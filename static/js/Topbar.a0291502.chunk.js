"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4383],{81687:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ct});var n=a(72791),o=a(87790),r=a.n(o),s=a(41418),i=a.n(s),l=a(81420),c=a(6639),m=a(86134),p=a(80948),u=a(21956),_=a(44425),b=a(21102),d=a(53002),g=(a(73665),a(81301)),h=a(52007),E=a.n(h);const M="Topbar_root__lgyxz",N="Topbar_container__N+bj2",k="Topbar_menu__PDp-p h5",T="Topbar_searchMenu__7xAPJ h5",S="Topbar_menuIcon__yIxFB",C="Topbar_searchMenuIcon__c3n5m",f="Topbar_notificationDot__E4dGd",L="Topbar_desktop__qCr9A",P="Topbar_rootMenuIcon__g4J0w",v="Topbar_rootSearchIcon__BeQyx",w="Topbar_searchContainer__Xw8na",y="Topbar_mobileHelp__0AtHF",D="Topbar_modalContainer__zrcKv marketplaceModalInMobileBaseStyles",I="Topbar_modalContainerSearchForm__jAXMQ Topbar_modalContainer__zrcKv marketplaceModalInMobileBaseStyles",x="Topbar_missingInformationModal__RviwC marketplaceModalBaseStyles",R="Topbar_genericError__xk21-",H="Topbar_genericErrorVisible__VXj3M",O="Topbar_genericErrorContent__degYI",A="Topbar_genericErrorText__liNai h5",F=e=>{const{className:t,rootClassName:a}=e,o=i()(a||P,t);return n.createElement("svg",{className:o,width:"18",height:"12",viewBox:"0 0 18 12",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{fillRule:"evenodd"},n.createElement("rect",{width:"18",height:"2",rx:"1"}),n.createElement("rect",{y:"5",width:"18",height:"2",rx:"1"}),n.createElement("rect",{y:"10",width:"18",height:"2",rx:"1"})))},{string:B}=E();F.defaultProps={className:null,rootClassName:null};const U=F,V=e=>{const{className:t,rootClassName:a}=e,o=i()(a||v,t);return n.createElement("svg",{className:o,width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{transform:"matrix(-1 0 0 1 17 1)",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("path",{d:"M11.733 11.733l3.727 3.727"}),n.createElement("circle",{cx:"6.4",cy:"6.4",r:"6.4"})))},{string:G}=E();V.defaultProps={className:null,rootClassName:null};const W=V;var j=a(55269);const z="TopbarSearchForm_mobileInputRoot__I7aW6",Q="TopbarSearchForm_desktopInputRoot__Bk8NC",J="TopbarSearchForm_mobileIcon__kTmGC",K="TopbarSearchForm_mobileInput__Woyp3 TopbarSearchForm_fontInput__Lri47",X="TopbarSearchForm_desktopIcon__yk4Cd",Y="TopbarSearchForm_desktopInput__MQovt p",Z="TopbarSearchForm_mobilePredictions__a8SO1",q="TopbarSearchForm_mobilePredictionsAttribution__oqKNA",$="TopbarSearchForm_desktopPredictions__WtdtD",ee="TopbarSearchForm_keywordSearchWrapper__CImlr",te="TopbarSearchForm_searchSubmit__WYpZ4",ae="TopbarSearchForm_iconSvgGroup__xubef",ne="TopbarSearchForm_icon__CqGKo",oe="TopbarSearchForm_iconSvg__7tZP5",re=()=>n.createElement("svg",{className:oe,width:"21",height:"22",viewBox:"0 0 21 22",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{className:ae,transform:"matrix(-1 0 0 1 20 1)",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},n.createElement("path",{d:"M13 14l5.241 5.241"}),n.createElement("circle",{cx:"7.5",cy:"7.5",r:"7.5"}))),se=e=>e,ie=e=>{const{keywordSearchWrapperClasses:t,iconClass:a,intl:o,isMobile:r,inputRef:s}=e;return n.createElement("div",{className:t},n.createElement("button",{className:te},n.createElement("div",{className:a},n.createElement(re,null))),n.createElement(j.gN,{name:"keywords",render:e=>{let{input:t,meta:a}=e;return n.createElement("input",Object.assign({className:r?K:Y},t,{id:r?"keyword-search-mobile":"keyword-search","data-testid":r?"keyword-search-mobile":"keyword-search",ref:s,type:"text",placeholder:o.formatMessage({id:"TopbarSearchForm.placeholder"}),autoComplete:"off"}))}}))},le=e=>{const{desktopInputRootClass:t,intl:a,isMobile:o,inputRef:r,onLocationChange:s}=e;return n.createElement(j.gN,{name:"location",format:se,render:e=>{let{input:i,meta:l}=e;const{onChange:c,...m}=i;return n.createElement(g.rG,{className:o?z:t,iconClassName:o?J:X,inputClassName:o?K:Y,predictionsClassName:o?Z:$,predictionsAttributionClassName:o?q:null,placeholder:a.formatMessage({id:"TopbarSearchForm.placeholder"}),closeOnBlur:!o,inputRef:r,input:{...m,onChange:e=>{c(e),s(e)}},meta:l})}})};class ce extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.searchInput=null,this.setSearchInputRef=e=>{this.setSearchInput=e}}onChange(e){const{appConfig:t,onSubmit:a}=this.props;var n;!(0,u.Sy)(t)&&e.selectedPlace&&(a({location:e}),null===(n=this.searchInput)||void 0===n||n.blur())}onSubmit(e){const{appConfig:t,onSubmit:a}=this.props;var n;(0,u.Sy)(t)&&(a({keywords:e.keywords}),null===(n=this.searchInput)||void 0===n||n.blur())}render(){const{onSubmit:e,appConfig:t,...a}=this.props,o=(0,u.Sy)(t),r=o?this.onSubmit:e;return n.createElement(j.l0,Object.assign({},a,{onSubmit:r,render:e=>{const{rootClassName:t,className:a,desktopInputRoot:r,intl:s,isMobile:l,handleSubmit:c}=e,m=i()(t,a),p=r||Q,u=o?c:e=>e.preventDefault(),_=i()(ee,l?z:p);return n.createElement(g.l0,{className:m,onSubmit:u,enforcePagePreloadFor:"SearchPage"},o?n.createElement(ie,{keywordSearchWrapperClasses:_,iconClass:i()(l?J:X||ne),intl:s,isMobile:l,inputRef:this.setSearchInputRef}):n.createElement(le,{desktopInputRootClass:p,intl:s,isMobile:l,inputRef:this.setSearchInputRef,onLocationChange:this.onChange}))}}))}}ce.defaultProps={rootClassName:null,className:null,desktopInputRoot:null,isMobile:!1};const me=(0,p.XN)(ce);var pe=a(58068),ue=a(10314);const _e="TopbarMobileMenu_root__gpOzE",be="TopbarMobileMenu_content__vbUDQ",de="TopbarMobileMenu_footer__6J+dF",ge="TopbarMobileMenu_avatar__RUUxd",he="TopbarMobileMenu_greeting__sIwSy",Ee="TopbarMobileMenu_logoutButton__xbsXM",Me="TopbarMobileMenu_inbox__+mBP3 TopbarMobileMenu_customLinkFont__7pJJ3",Ne="TopbarMobileMenu_navigationLink__maY5n TopbarMobileMenu_customLinkFont__7pJJ3",ke="TopbarMobileMenu_notificationBadge__SpfhW",Te="TopbarMobileMenu_createNewListingLink__3pz89 buttonPrimary",Se="TopbarMobileMenu_authenticationGreeting__uBowM h1",Ce="TopbarMobileMenu_authenticationLinks__MjSTG",fe="TopbarMobileMenu_signupLink__BCyNR",Le="TopbarMobileMenu_loginLink__rpk8g",Pe="TopbarMobileMenu_currentPage__PGVKZ",ve="TopbarMobileMenu_spacer__PGr7-",we=e=>{const{isAuthenticated:t,currentPage:a,currentUserHasListings:o,currentUser:r,notificationCount:s,onLogout:l}=e,c=(0,ue.j0)(r);if(!t){const e=n.createElement(g.RC,{name:"SignupPage",className:fe},n.createElement(p._H,{id:"TopbarMobileMenu.signupLink"})),t=n.createElement(g.RC,{name:"LoginPage",className:Le},n.createElement(p._H,{id:"TopbarMobileMenu.loginLink"})),a=n.createElement("span",{className:Ce},n.createElement(p._H,{id:"TopbarMobileMenu.signupOrLogin",values:{signup:e,login:t}}));return n.createElement("div",{className:_e},n.createElement("div",{className:be},n.createElement("div",{className:Se},n.createElement(p._H,{id:"TopbarMobileMenu.unauthorizedGreeting",values:{lineBreak:n.createElement("br",null),signupOrLogin:a}}))),n.createElement("div",{className:de},n.createElement(g.RC,{className:Te,name:"NewListingPage"},n.createElement(p._H,{id:"TopbarMobileMenu.newListingLink"}))))}const m=s>0?n.createElement(g.Cc,{className:ke,count:s}):null,u=c.attributes.profile.firstName,_=e=>{const t="AccountSettingsPage"===e&&pe.p.includes(a);return a===e||t?Pe:null};return n.createElement("div",{className:_e},n.createElement(g.Vt,{className:ge,user:r}),n.createElement("div",{className:be},n.createElement("span",{className:he},n.createElement(p._H,{id:"TopbarMobileMenu.greeting",values:{displayName:u}})),n.createElement(g.T5,{rootClassName:Ee,onClick:l},n.createElement(p._H,{id:"TopbarMobileMenu.logoutLink"})),n.createElement(g.RC,{className:i()(Me,_("InboxPage")),name:"InboxPage",params:{tab:o?"sales":"orders"}},n.createElement(p._H,{id:"TopbarMobileMenu.inboxLink"}),m),n.createElement(g.RC,{className:i()(Ne,_("ManageListingsPage")),name:"ManageListingsPage"},n.createElement(p._H,{id:"TopbarMobileMenu.yourListingsLink"})),n.createElement(g.RC,{className:i()(Ne,_("ProfileSettingsPage")),name:"ProfileSettingsPage"},n.createElement(p._H,{id:"TopbarMobileMenu.profileSettingsLink"})),n.createElement(g.RC,{className:i()(Ne,_("AccountSettingsPage")),name:"AccountSettingsPage"},n.createElement(p._H,{id:"TopbarMobileMenu.accountSettingsLink"})),n.createElement("div",{className:ve})),n.createElement("div",{className:de},n.createElement(g.RC,{className:Te,name:"NewListingPage"},n.createElement(p._H,{id:"TopbarMobileMenu.newListingLink"}))))};we.defaultProps={currentUser:null,notificationCount:0,currentPage:null};const{bool:ye,func:De,number:Ie,string:xe}=E(),Re=we,He="TopbarDesktop_root__B36f+",Oe="TopbarDesktop_logoLink__ogiVG",Ae="TopbarDesktop_searchLink__wfyNG",Fe="TopbarDesktop_topbarSearchWithLeftPadding__ZZM-+",Be="TopbarDesktop_createListingLink__vC+Oe",Ue="TopbarDesktop_createListing__zaYlu TopbarDesktop_topbarDesktopLabel__+vIif textSmall",Ve="TopbarDesktop_inboxLink__3BFpR",Ge="TopbarDesktop_inbox__U7n3v TopbarDesktop_topbarDesktopLabel__+vIif textSmall",We="TopbarDesktop_notificationDot__iaN5a",je="TopbarDesktop_profileMenuLabel__+lOjB",ze="TopbarDesktop_profileMenuIsOpen__edPhA",Qe="TopbarDesktop_avatar__W4Z1O",Je="TopbarDesktop_profileMenuContent__VIpRD",Ke="TopbarDesktop_signupLink__lpy4A",Xe="TopbarDesktop_loginLink__Bv9w3",Ye="TopbarDesktop_signup__nw1cb textSmall",Ze="TopbarDesktop_login__NDym1 textSmall",qe="TopbarDesktop_menuItemBorder__Gx08m",$e="TopbarDesktop_profileSettingsLink__Yiw+w textSmall",et="TopbarDesktop_yourListingsLink__--vkU textSmall",tt="TopbarDesktop_logoutButton__M4Ij9",at="TopbarDesktop_currentPage__7H3Cj",nt=e=>{const{className:t,appConfig:a,currentUser:o,currentPage:r,rootClassName:s,currentUserHasListings:l,notificationCount:c,intl:m,isAuthenticated:u,onLogout:_,onSearchSubmit:b,initialSearchFormValues:d}=e,[h,E]=(0,n.useState)(!1);(0,n.useEffect)((()=>{E(!0)}),[]);const M=a.marketplaceName,N=h&&u,k=u||!h,T=i()(s||He,t),S=n.createElement(me,{className:Ae,desktopInputRoot:Fe,onSubmit:b,initialValues:d,appConfig:a}),C=c>0?n.createElement("div",{className:We}):null,f=N?n.createElement(g.RC,{className:Ve,name:"InboxPage",params:{tab:l?"sales":"orders"}},n.createElement("span",{className:Ge},n.createElement(p._H,{id:"TopbarDesktop.inbox"}),C)):null,L=e=>{const t="AccountSettingsPage"===e&&pe.p.includes(r);return r===e||t?at:null},P=N?n.createElement(g.v2,null,n.createElement(g.Lb,{className:je,isOpenClassName:ze},n.createElement(g.qE,{className:Qe,user:o,disableProfileLink:!0})),n.createElement(g.Dv,{className:Je},n.createElement(g.sN,{key:"ManageListingsPage"},n.createElement(g.RC,{className:i()(et,L("ManageListingsPage")),name:"ManageListingsPage"},n.createElement("span",{className:qe}),n.createElement(p._H,{id:"TopbarDesktop.yourListingsLink"}))),n.createElement(g.sN,{key:"ProfileSettingsPage"},n.createElement(g.RC,{className:i()($e,L("ProfileSettingsPage")),name:"ProfileSettingsPage"},n.createElement("span",{className:qe}),n.createElement(p._H,{id:"TopbarDesktop.profileSettingsLink"}))),n.createElement(g.sN,{key:"AccountSettingsPage"},n.createElement(g.RC,{className:i()(et,L("AccountSettingsPage")),name:"AccountSettingsPage"},n.createElement("span",{className:qe}),n.createElement(p._H,{id:"TopbarDesktop.accountSettingsLink"}))),n.createElement(g.sN,{key:"logout"},n.createElement(g.T5,{rootClassName:tt,onClick:_},n.createElement("span",{className:qe}),n.createElement(p._H,{id:"TopbarDesktop.logout"}))))):null,v=k?null:n.createElement(g.RC,{name:"SignupPage",className:Ke},n.createElement("span",{className:Ye},n.createElement(p._H,{id:"TopbarDesktop.signup"}))),w=k?null:n.createElement(g.RC,{name:"LoginPage",className:Xe},n.createElement("span",{className:Ze},n.createElement(p._H,{id:"TopbarDesktop.login"})));return n.createElement("nav",{className:T},n.createElement(g.Ux,{className:Oe,layout:"desktop",alt:m.formatMessage({id:"TopbarDesktop.logo"},{marketplaceName:M})}),S,n.createElement(g.RC,{className:Be,name:"NewListingPage"},n.createElement("span",{className:Ue},n.createElement(p._H,{id:"TopbarDesktop.createListing"}))),f,P,v,w)};nt.defaultProps={rootClassName:null,className:null,currentUser:null,currentPage:null,notificationCount:0,initialSearchFormValues:{},appConfig:null};const ot=(e,t)=>{const{history:a,location:n}=e,{pathname:o,search:r,state:s}=n,i="?".concat((0,b.Pz)({[t]:"open",...(0,b.Qc)(r)}));a.push("".concat(o).concat(i),s)},rt=(e,t)=>{const{history:a,location:n}=e,{pathname:o,search:s,state:i}=n,l=r()((0,b.Qc)(s),((e,a)=>a!==t)),c=(0,b.Pz)(l),m=c?"?".concat(c):"";a.push("".concat(o).concat(m),i)},st=e=>{const{show:t}=e,a=i()(R,{[H]:t});return n.createElement("div",{className:a},n.createElement("div",{className:O},n.createElement("p",{className:A},n.createElement(p._H,{id:"Topbar.genericError"}))))};class it extends n.Component{constructor(e){super(e),this.handleMobileMenuOpen=this.handleMobileMenuOpen.bind(this),this.handleMobileMenuClose=this.handleMobileMenuClose.bind(this),this.handleMobileSearchOpen=this.handleMobileSearchOpen.bind(this),this.handleMobileSearchClose=this.handleMobileSearchClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleLogout=this.handleLogout.bind(this)}handleMobileMenuOpen(){ot(this.props,"mobilemenu")}handleMobileMenuClose(){rt(this.props,"mobilemenu")}handleMobileSearchOpen(){ot(this.props,"mobilesearch")}handleMobileSearchClose(){rt(this.props,"mobilesearch")}handleSubmit(e){const{currentSearchParams:t}=this.props,{history:a,config:n,routeConfiguration:o}=this.props,r={...t,...(()=>{if((0,u.Sy)(n))return{keywords:null===e||void 0===e?void 0:e.keywords};const{search:t,selectedPlace:a}=null===e||void 0===e?void 0:e.location,{origin:o,bounds:r}=a;return{...(0,u.QS)(n)?{origin:o}:{},address:t,bounds:r}})()};a.push((0,d.EW)("SearchPage",o,{},r))}handleLogout(){const{onLogout:e,history:t,routeConfiguration:a}=this.props;e().then((()=>{const e=(0,d.XA)("LandingPage",a);l.default.dev?t.push(e):"undefined"!==typeof window&&(window.location=e),console.log("logged out")}))}render(){const{className:e,rootClassName:t,desktopClassName:a,mobileRootClassName:o,mobileClassName:r,isAuthenticated:s,authScopes:l,authInProgress:c,currentUser:m,currentUserHasListings:_,currentUserHasOrders:d,currentPage:h,notificationCount:E,viewport:P,intl:v,location:R,onManageDisableScrolling:H,onResendVerificationEmail:O,sendVerificationEmailInProgress:A,sendVerificationEmailError:F,showGenericError:B,config:V}=this.props,{mobilemenu:G,mobilesearch:j,keywords:z,address:Q,origin:J,bounds:K}=(0,b.Qc)(R.search,{latlng:["origin"],latlngBounds:["bounds"]}),X=E>0?n.createElement("div",{className:f}):null,Y=P.width<1024,Z=Y&&"open"===G,q=Y&&"open"===j,$=n.createElement(Re,{isAuthenticated:s,currentUserHasListings:_,currentUser:m,onLogout:this.handleLogout,notificationCount:E,currentPage:h}),ee=(()=>{if((0,u.Sy)(V))return{keywords:z};return{location:((0,u.QS)(V)?Q&&J&&K:Q&&K)?{search:Q,selectedPlace:{address:Q,origin:J,bounds:K}}:null}})(),te=i()(t||M,e);return n.createElement("div",{className:te},n.createElement(g.nW,{isAuthenticated:s,authScopes:l,currentUser:m,onLogout:this.handleLogout,currentPage:h}),n.createElement("div",{className:i()(o||N,r)},n.createElement(g.zx,{rootClassName:k,onClick:this.handleMobileMenuOpen,title:v.formatMessage({id:"Topbar.menuIcon"})},n.createElement(U,{className:S}),X),n.createElement(g.Ux,{layout:"mobile",alt:v.formatMessage({id:"Topbar.logoIcon"})}),n.createElement(g.zx,{rootClassName:T,onClick:this.handleMobileSearchOpen,title:v.formatMessage({id:"Topbar.searchIcon"})},n.createElement(W,{className:C}))),n.createElement("div",{className:L}),n.createElement(g.u_,{id:"TopbarMobileMenu",containerClassName:D,isOpen:Z,onClose:this.handleMobileMenuClose,usePortal:!0,onManageDisableScrolling:H},c?null:$),n.createElement(g.u_,{id:"TopbarMobileSearch",containerClassName:I,isOpen:q,onClose:this.handleMobileSearchClose,usePortal:!0,onManageDisableScrolling:H},n.createElement("div",{className:w},n.createElement(me,{onSubmit:this.handleSubmit,initialValues:ee,isMobile:!0,appConfig:V}),n.createElement("p",{className:y},n.createElement(p._H,{id:"Topbar.mobileSearchHelp"})))),n.createElement(g.Ix,{id:"MissingInformationReminder",containerClassName:x,currentUser:m,currentUserHasListings:_,currentUserHasOrders:d,location:R,onManageDisableScrolling:H,onResendVerificationEmail:O,sendVerificationEmailInProgress:A,sendVerificationEmailError:F}),n.createElement(st,{show:B}))}}it.defaultProps={className:null,rootClassName:null,desktopClassName:null,mobileRootClassName:null,mobileClassName:null,notificationCount:0,currentUser:null,currentUserHasOrders:null,currentPage:null,sendVerificationEmailError:null,authScopes:[]};const lt=(0,_.ss)((e=>{const t=(0,c.mX)(),a=(0,m.a5)(),o=(0,p.YB)();return n.createElement(it,Object.assign({config:t,routeConfiguration:a,intl:o},e))}));lt.displayName="Topbar";const ct=lt}}]);
//# sourceMappingURL=Topbar.a0291502.chunk.js.map