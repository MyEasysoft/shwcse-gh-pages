"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2194],{22194:(e,a,t)=>{t.d(a,{Z:()=>X});var n=t(72791),i=t(52007),s=t.n(i),r=t(42789),l=t(58272),g=t(41418),c=t.n(g),o=t(6639),m=t(86134),d=t(80948),u=t(62887),_=t(73665),p=t(79908),L=t(10314),v=t(21102),E=t(53002),C=t(7285),M=t(81301);const f={coverEverything:"ManageListingCard_coverEverything__RbpJL",root:"ManageListingCard_root__BbTGw",menuOverlayWrapper:"ManageListingCard_menuOverlayWrapper__sygGL ManageListingCard_coverEverything__RbpJL",menuOverlay:"ManageListingCard_menuOverlay__wcCSj ManageListingCard_coverEverything__RbpJL",menuOverlayOpen:"ManageListingCard_menuOverlayOpen__kLfAY",clickWrapper:"ManageListingCard_clickWrapper__ykV9T",rootForImage:"ManageListingCard_rootForImage__12pXn ManageListingCard_coverEverything__RbpJL",menubarWrapper:"ManageListingCard_menubarWrapper__+Q5mX",menubarGradient:"ManageListingCard_menubarGradient__iuu+T",menubar:"ManageListingCard_menubar__+4D6n",menuLabel:"ManageListingCard_menuLabel__G32IK",iconWrapper:"ManageListingCard_iconWrapper__h-7sf",listingMenuIsOpen:"ManageListingCard_listingMenuIsOpen__fIngM",menuContent:"ManageListingCard_menuContent__GM1fx",menuItem:"ManageListingCard_menuItem__vLSGu",menuItemDisabled:"ManageListingCard_menuItemDisabled__DEeDi",info:"ManageListingCard_info__Jw3XE",price:"ManageListingCard_price__iytG8",priceValue:"ManageListingCard_priceValue__D3jWk p",perUnit:"ManageListingCard_perUnit__JQ1PN marketplaceTinyFontStyles",noPrice:"ManageListingCard_noPrice__WJnNE ManageListingCard_perUnit__JQ1PN marketplaceTinyFontStyles",mainInfo:"ManageListingCard_mainInfo__ZblZ1",titleWrapper:"ManageListingCard_titleWrapper__8vuj5",title:"ManageListingCard_title__1ftQD p",titleDraft:"ManageListingCard_titleDraft__P4CZi",draftNoImage:"ManageListingCard_draftNoImage__0xduN",edit:"ManageListingCard_edit__ixrH9 buttonSecondary",openListingButton:"ManageListingCard_openListingButton__pHRYc buttonPrimaryInline",finishListingDraftLink:"ManageListingCard_finishListingDraftLink__IJiLI buttonPrimaryInline",menu:"ManageListingCard_menu__MkQH+",cardIsOpen:"ManageListingCard_cardIsOpen__heLGU",manageLinks:"ManageListingCard_manageLinks__Hpgcw marketplaceTinyFontStyles",manageLink:"ManageListingCard_manageLink__XehWS",manageLinksSeparator:"ManageListingCard_manageLinksSeparator__Pg9nd",closeListingText:"ManageListingCard_closeListingText__y+eDX h5"},y=e=>{const{className:a,isActive:t}=e,i=c()(f.menuIcon,a),s=t?"":"url(#a)";return n.createElement("svg",{className:i,width:"26",height:"12",viewBox:"0 0 26 12",xmlns:"http://www.w3.org/2000/svg"},n.createElement("defs",null,n.createElement("filter",{x:"-38.9%",y:"-125%",width:"177.8%",height:"450%",filterUnits:"objectBoundingBox"},n.createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),n.createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),n.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"}))),n.createElement("g",{transform:"translate(-342 -18)",filter:s},n.createElement("path",{d:"M348 24c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"})),n.createElement("g",{transform:"translate(-342 -18)"},n.createElement("path",{d:"M348 24c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"})))};y.defaultProps={className:null,isActive:!1};const{bool:N,string:k}=s(),h=y,O="Overlay_root__GqUNg Overlay_coverEverything__x99df",I="Overlay_overlay__b+Hov Overlay_coverEverything__x99df",b="Overlay_overlayContent__0Ovs5 h4 Overlay_coverEverything__x99df",P="Overlay_message__dsWCw textXSmall",T="Overlay_errorMessage__787x+ Overlay_message__dsWCw textXSmall",D=e=>{const{className:a,rootClassName:t,message:i,errorMessage:s,children:r}=e,l=c()(t||O,a);return n.createElement("div",{className:l,onClick:e=>{e.preventDefault(),e.stopPropagation()}},n.createElement("div",{className:I}),n.createElement("div",{className:b},s?n.createElement("div",{className:T},s):null,i?n.createElement("div",{className:P},i):null,r))};D.defaultProps={className:null,rootClassName:null,message:null,errorMessage:null,children:null};const S=D,x=(e,a)=>{const t=a.id.uuid,n=(0,v.qi)(a.attributes.title),i=a.attributes.state===_.v7,s=a.attributes.state===_.WM,r=s?v.my:i?v.l4:null,l=i||s?{name:"ListingPageVariant",params:{id:t,slug:n,variant:r}}:{name:"ListingPage",params:{id:t,slug:n}};return(0,E.EW)(l.name,e,l.params,{})},W=e=>{const{isDraft:a,title:t,id:i,slug:s,hasImage:r,intl:l}=e;return a?n.createElement(n.Fragment,null,n.createElement("div",{className:c()({[f.draftNoImage]:!r})}),n.createElement(S,{message:l.formatMessage({id:"ManageListingCard.draftOverlayText"},{listingTitle:t})},n.createElement(M.RC,{className:f.finishListingDraftLink,name:"EditListingPage",params:{id:i,slug:s,type:v.Ms,tab:"photos"}},n.createElement(d._H,{id:"ManageListingCard.finishListingDraft"})))):null},A=e=>{const{isClosed:a,title:t,actionsInProgressListingId:i,currentListingId:s,onOpenListing:r,intl:l}=e;return a?n.createElement(S,{message:l.formatMessage({id:"ManageListingCard.closedListing"},{listingTitle:t})},n.createElement(M.eM,{className:f.openListingButton,disabled:!!i,onClick:e=>{e.preventDefault(),e.stopPropagation(),i||r(s)}},n.createElement(d._H,{id:"ManageListingCard.openListing"}))):null},w=e=>{const{isPendingApproval:a,title:t,intl:i}=e;return a?n.createElement(S,{message:i.formatMessage({id:"ManageListingCard.pendingApproval"},{listingTitle:t})}):null},H=e=>{const{showOutOfStockOverlay:a,title:t,id:i,slug:s,actionsInProgressListingId:r,currentListingId:l,hasStockManagementInUse:g,onCloseListing:c,intl:o}=e;return a?n.createElement(S,{message:o.formatMessage({id:"ManageListingCard.outOfStockOverlayText"},{listingTitle:t})},g?n.createElement(n.Fragment,null,n.createElement(M.RC,{className:f.finishListingDraftLink,name:"EditListingPage",params:{id:i,slug:s,type:v.Am,tab:"pricing-and-stock"}},n.createElement(d._H,{id:"ManageListingCard.setPriceAndStock"})),n.createElement("div",{className:f.closeListingText},o.formatMessage({id:"ManageListingCard.closeListingTextOr"},{closeListingLink:n.createElement(M.T5,{key:"closeListingLink",className:f.closeListingText,disabled:!!r,onClick:()=>{r||c(l)}},n.createElement(d._H,{id:"ManageListingCard.closeListingText"}))}))):n.createElement("div",{className:f.closeListingText},n.createElement(M.T5,{key:"closeListingLink",className:f.closeListingText,disabled:!!r,onClick:()=>{r||c(l)}},n.createElement(d._H,{id:"ManageListingCard.closeListingText"})))):null},B=e=>{const{id:a,slug:t,editListingLinkType:i,isBookable:s,hasListingType:r,hasStockManagementInUse:l,currentStock:g,intl:c}=e;return r&&(s||l)?n.createElement(n.Fragment,null,n.createElement("span",{className:f.manageLinksSeparator}," \u2022 "),s?n.createElement(M.RC,{className:f.manageLink,name:"EditListingPage",params:{id:a,slug:t,type:i,tab:"availability"}},n.createElement(d._H,{id:"ManageListingCard.manageAvailability"})):n.createElement(M.RC,{className:f.manageLink,name:"EditListingPage",params:{id:a,slug:t,type:i,tab:"pricing-and-stock"}},null==g?c.formatMessage({id:"ManageListingCard.setPriceAndStock"}):c.formatMessage({id:"ManageListingCard.manageStock"},{currentStock:g}))):null},U=e=>{const{price:a,publicData:t,config:i,intl:s}=e,{listingType:r}=t||{},l=i.listing.listingTypes.find((e=>e.listingType===r)),g=(0,u.ED)(l);if(g&&!a)return n.createElement("div",{className:f.noPrice},n.createElement(d._H,{id:"ManageListingCard.priceNotSet"}));if(!g)return null;const c=(0,C.Ll)(null===t||void 0===t?void 0:t.transactionProcessAlias),{formattedPrice:o,priceTitle:m}=((e,a,t)=>{if((null===e||void 0===e?void 0:e.currency)===a){const a=(0,p.lb)(t,e);return{formattedPrice:a,priceTitle:a}}return e?{formattedPrice:t.formatMessage({id:"ManageListingCard.unsupportedPrice"},{currency:e.currency}),priceTitle:t.formatMessage({id:"ManageListingCard.unsupportedPriceTitle"},{currency:e.currency})}:{}})(a,i.currency,s);return n.createElement("div",{className:f.price},n.createElement("div",{className:f.priceValue,title:m},o),c?n.createElement("div",{className:f.perUnit},n.createElement(d._H,{id:"ManageListingCard.perUnit",values:{unitType:null===t||void 0===t?void 0:t.unitType}})):null)},G=e=>{var a,t,i;const s=(0,o.mX)(),r=(0,m.a5)(),{className:l,rootClassName:g,hasClosingError:u,hasOpeningError:p,history:y,intl:N,isMenuOpen:k,actionsInProgressListingId:O,listing:I,onCloseListing:b,onOpenListing:P,onToggleMenu:T,renderSizes:D}=e,G=c()(g||f.root,l),z=(0,L.YC)(I),F=z.id.uuid,{title:R="",price:J,state:X,publicData:j}=z.attributes,q=(0,v.qi)(R),Q=X===_.v7,V=X===_._L,Z=X===_.WM,{listingType:K,transactionProcessAlias:Y}=j||{},$=(0,C.Ll)(Y),ee=(0,C.kI)(Y),ae=!!K,te=s.listing.listingTypes.find((e=>e.listingType===K)),ne=null===(a=z.currentStock)||void 0===a||null===(t=a.attributes)||void 0===t?void 0:t.quantity,ie=!$&&0===ne&&!Q&&!V&&!Z,se=ee&&(null===te||void 0===te?void 0:te.stockType)===_.p9,re=z.images&&z.images.length>0?z.images[0]:null,le=c()(f.menuItem,{[f.menuItemDisabled]:!!O}),ge=p||u,ce=O&&O.uuid===F,oe=()=>{const{component:e}=(0,E.dI)("ListingPage",r);e.preload&&e.preload()},me=c()(f.title,{[f.titlePending]:Q,[f.titleDraft]:Z}),de=Z?v.Ms:v.Am,{aspectWidth:ue=1,aspectHeight:_e=1,variantPrefix:pe="listing-card"}=s.layout.listingImage,Le=re?Object.keys(null===re||void 0===re||null===(i=re.attributes)||void 0===i?void 0:i.variants).filter((e=>e.startsWith(pe))):[];return n.createElement("div",{className:G},n.createElement("div",{className:f.clickWrapper,tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),y.push(x(r,I))},onMouseOver:oe,onTouchStart:oe},n.createElement(M.Zz,{width:ue,height:_e},n.createElement(M.t3,{rootClassName:f.rootForImage,alt:R,image:re,variants:Le,sizes:D})),n.createElement("div",{className:c()(f.menuOverlayWrapper)},n.createElement("div",{className:c()(f.menuOverlay,{[f.menuOverlayOpen]:k})})),n.createElement("div",{className:f.menubarWrapper},n.createElement("div",{className:f.menubarGradient}),n.createElement("div",{className:f.menubar},n.createElement(M.v2,{className:c()(f.menu,{[f.cardIsOpen]:!V}),contentPlacementOffset:-12,contentPosition:"left",useArrow:!1,onToggleActive:e=>{T(e?z:null)},isOpen:k},n.createElement(M.Lb,{className:f.menuLabel,isOpenClassName:f.listingMenuIsOpen},n.createElement("div",{className:f.iconWrapper},n.createElement(h,{className:f.menuIcon,isActive:k}))),n.createElement(M.Dv,{rootClassName:f.menuContent},n.createElement(M.sN,{key:"close-listing"},n.createElement(M.T5,{rootClassName:le,onClick:e=>{e.preventDefault(),e.stopPropagation(),O||(T(null),b(z.id))}},n.createElement(d._H,{id:"ManageListingCard.closeListing"}))))))),n.createElement(W,{isDraft:Z,title:R,id:F,slug:q,hasImage:!!re,intl:N}),n.createElement(A,{isClosed:V,title:R,actionsInProgressListingId:O,currentListingId:z.id,onOpenListing:P,intl:N}),n.createElement(w,{isPendingApproval:Q,title:R,intl:N}),n.createElement(H,{showOutOfStockOverlay:ie,title:R,id:F,slug:q,actionsInProgressListingId:O,currentListingId:z.id,onCloseListing:b,hasStockManagementInUse:se,intl:N}),ce?n.createElement(S,null,n.createElement(M.vM,null)):ge?n.createElement(S,{errorMessage:N.formatMessage({id:"ManageListingCard.actionFailed"})}):null),n.createElement("div",{className:f.info},n.createElement(U,{price:J,publicData:j,config:s,intl:N}),n.createElement("div",{className:f.mainInfo},n.createElement("div",{className:f.titleWrapper},n.createElement(M.T5,{rootClassName:me,onClick:e=>{e.preventDefault(),e.stopPropagation(),y.push(x(r,I))}},((e,a)=>e.split(/([^\s]+)/gi).map(((e,t)=>e.length>a?n.createElement("span",{key:t,style:{wordBreak:"break-all"}},e):e)))(R,7)))),n.createElement("div",{className:f.manageLinks},n.createElement(M.RC,{className:f.manageLink,name:"EditListingPage",params:{id:F,slug:q,type:de,tab:"details"}},n.createElement(d._H,{id:"ManageListingCard.editListing"})),n.createElement(B,{id:F,slug:q,editListingLinkType:de,isBookable:$,currentStock:ne,hasListingType:ae,hasStockManagementInUse:se,intl:N}))))};G.defaultProps={className:null,rootClassName:null,actionsInProgressListingId:null,renderSizes:null};const{bool:z,func:F,shape:R,string:J}=s(),X=(0,r.qC)(l.EN,d.XN)(G)}}]);
//# sourceMappingURL=2194.869d002d.chunk.js.map