"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9190],{34018:(e,t,n)=>{n.r(t),n.d(t,{BookingTimeFormComponent:()=>B,default:()=>D});var o=n(72791),i=n(42789),l=n(55269),r=n(41418),a=n.n(r),s=n(80948),m=n(53176),c=(n(73665),n(7285)),d=n(81301),g=n(38975),u=n(54817);const h="BookingTimeForm_root__SDVbW",p="BookingTimeForm_bookingBreakdownTitle__vWXZN",k="BookingTimeForm_totalDivider__p0-Y1",_="BookingTimeForm_bookingDates__lHem-",T="BookingTimeForm_priceBreakdownContainer__YVS-B",b="BookingTimeForm_sideBarError__8tQ5E h4",F="BookingTimeForm_finePrint__pjXsE marketplaceTinyFontStyles",E="BookingTimeForm_submitButton__rb96j";class B extends o.Component{constructor(e){super(e),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleOnChange=this.handleOnChange.bind(this)}handleFormSubmit(e){this.props.onSubmit(e)}handleOnChange(e){const{bookingStartTime:t,bookingEndTime:n}=e.values,o=t?(0,m.Ft)(t):null,i=n?(0,m.Ft)(n):null,l=this.props.listingId,r=this.props.isOwnListing;t&&n&&t<n&&!this.props.fetchLineItemsInProgress&&this.props.onFetchTransactionLineItems({orderData:{bookingStart:o,bookingEnd:i},listingId:l,isOwnListing:r})}render(){const{rootClassName:e,className:t,price:n,dayCountAvailableForBooking:i,marketplaceName:r,...B}=this.props,S=a()(e||h,t);return o.createElement(l.l0,Object.assign({},B,{unitPrice:n,onSubmit:this.handleFormSubmit,render:e=>{const{endDatePlaceholder:t,startDatePlaceholder:a,form:h,pristine:B,handleSubmit:D,intl:N,isOwnListing:I,listingId:C,values:L,monthlyTimeSlots:f,onFetchTimeSlots:P,timeZone:y,lineItems:O,fetchLineItemsInProgress:v,fetchLineItemsError:w,payoutDetailsWarning:A}=e,H=L&&L.bookingStartTime?L.bookingStartTime:null,Z=L&&L.bookingEndTime?L.bookingEndTime:null,j=H?(0,m.Ft)(H):null,W=Z?(0,m.Ft)(Z):null,x=j&&W?{startDate:j,endDate:W}:null,K=x&&O&&!v&&!w;return o.createElement(d.l0,{onSubmit:D,className:S,enforcePagePreloadFor:"CheckoutPage"},o.createElement(l.lP,{subscription:{values:!0},onChange:e=>{this.handleOnChange(e)}}),f&&y?o.createElement(u.Z,{startDateInputProps:{label:N.formatMessage({id:"BookingTimeForm.bookingStartTitle"}),placeholderText:a},endDateInputProps:{label:N.formatMessage({id:"BookingTimeForm.bookingEndTitle"}),placeholderText:t},className:_,listingId:C,onFetchTimeSlots:P,monthlyTimeSlots:f,values:L,intl:N,form:h,pristine:B,timeZone:y,dayCountAvailableForBooking:i}):null,K?o.createElement("div",{className:T},o.createElement(d.H6,{as:"h3",className:p},o.createElement(s._H,{id:"BookingTimeForm.priceBreakdownTitle"})),o.createElement("hr",{className:k}),o.createElement(g.Z,{breakdownData:x,lineItems:O,timeZone:y,currency:n.currency,marketplaceName:r,processName:c.j5})):null,w?o.createElement("span",{className:b},o.createElement(s._H,{id:"BookingTimeForm.fetchLineItemsError"})):null,o.createElement("div",{className:E},o.createElement(d.KM,{type:"submit",inProgress:v},o.createElement(s._H,{id:"BookingTimeForm.requestToBook"}))),o.createElement("p",{className:F},A||o.createElement(s._H,{id:I?"BookingTimeForm.ownListing":"BookingTimeForm.youWontBeChargedInfo"})))}}))}}B.defaultProps={rootClassName:null,className:null,price:null,isOwnListing:!1,listingId:null,startDatePlaceholder:null,endDatePlaceholder:null,monthlyTimeSlots:null,lineItems:null,fetchLineItemsError:null};const S=(0,i.qC)(s.XN)(B);S.displayName="BookingTimeForm";const D=S}}]);
//# sourceMappingURL=BookingTimeForm.d896ecac.chunk.js.map