"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7102],{21824:(e,t,a)=>{a.d(t,{Z:()=>N});var n=a(72791),i=a(52007),l=a.n(i),r=a(41418),s=a.n(r),o=a(77832),c=a.n(o),m=(a(73665),a(80948)),u=a(81301);const g="ImageCarousel_root__Wo+HB",d="ImageCarousel_noImage__wTO23",h="ImageCarousel_itemCentering__f4jFH",p="ImageCarousel_item__caCf7",E="ImageCarousel_arrowHead__dFX8J",I="ImageCarousel_navLeft__HWU9V",y="ImageCarousel_navRight__zteS3",v="ImageCarousel_navArrowWrapper__kvo4h",L="ImageCarousel_imageWrapper__+BFN-",C="ImageCarousel_imageIndex__O6h1w h4",b={showPlayButton:!1,disableThumbnailScroll:!0,showThumbnails:!1,showFullscreenButton:!1,slideDuration:350},f=e=>{const[t,a]=(0,n.useState)(0),{intl:i,rootClassName:l,className:r,images:o,imageVariants:m}=e,f=o.map(((e,t)=>({original:"",alt:i.formatMessage({id:"ImageCarousel.imageAltText"},{index:t+1,count:o.length}),image:e})));if(0===f.length){const e=s()(l||d,r);return n.createElement(u.t3,{className:e,image:null,variants:[],alt:""})}const _=f.length>0?n.createElement("span",{className:C},t+1,"/",f.length):null;const w=s()(l||g,r);return n.createElement(n.Fragment,null,n.createElement(c(),Object.assign({additionalClass:w,items:f,renderItem:e=>n.createElement("div",{className:L},n.createElement("div",{className:h},n.createElement(u.t3,{rootClassName:p,image:e.image,alt:e.alt,variants:m,sizes:"(max-width: 767px) 100vw, 80vw"}))),renderLeftNav:(e,t)=>n.createElement("button",{className:I,disabled:t,onClick:e},n.createElement("div",{className:v},n.createElement(u.JT,{direction:"left",size:"big",className:E}))),renderRightNav:(e,t)=>n.createElement("button",{className:y,disabled:t,onClick:e},n.createElement("div",{className:v},n.createElement(u.JT,{direction:"right",size:"big",className:E}))),onSlide:e=>{a(e)}},b)),_)};f.defaultProps={rootClassName:null,className:null};const{string:_,arrayOf:w}=l(),N=(0,m.XN)(f)},8383:(e,t,a)=>{a.r(t),a.d(t,{ListingPageComponent:()=>M,default:()=>A});var n=a(72791),i=a(42789),l=a(47375),r=a(58272),s=a(6639),o=a(86134),c=a(80948),m=a(73665),u=a(66319),g=a(21102),d=a(79908),h=a(10314),p=a(7414),E=a(7285),I=a(25863),y=a(46902),v=a(43093),L=a(81301),C=a(52745),b=a(67600),f=a(36963),_=a(2145),w=a(70059),N=a(21824),P=a(36898),S=a(77352);const D=e=>{var t;const{title:a,listing:i,isOwnListing:l,editParams:r,handleViewPhotosClick:s,imageCarouselOpen:o,onImageCarouselClose:m,onManageDisableScrolling:u,noPayoutDetailsSetWithOwnListing:g}=e,d=i.images&&i.images.length>0,h=d?i.images[0]:null,p=h?Object.keys(null===h||void 0===h||null===(t=h.attributes)||void 0===t?void 0:t.variants).filter((e=>e.startsWith("scaled"))):[],E=d?n.createElement("button",{className:S.Z.viewPhotos,onClick:s},n.createElement(c._H,{id:"ListingPage.viewImagesButton",values:{count:i.images.length}})):null;return n.createElement("div",{className:S.Z.sectionHero,"data-testid":"hero"},n.createElement("div",{className:S.Z.imageWrapperForSectionHero,onClick:s},i.id&&l?n.createElement("div",{onClick:e=>e.stopPropagation(),className:S.Z.actionBarContainerForHeroLayout},g?n.createElement(P.Z,{className:S.Z.actionBarForHeroLayout,isOwnListing:l,listing:i,showNoPayoutDetailsSet:g}):null,n.createElement(P.Z,{className:S.Z.actionBarForHeroLayout,isOwnListing:l,listing:i,editParams:r})):null,n.createElement(L.t3,{rootClassName:S.Z.rootForImage,alt:a,image:h,variants:p}),E),n.createElement(L.u_,{id:"ListingPage.imageCarousel",scrollLayerClassName:S.Z.carouselModalScrollLayer,containerClassName:S.Z.carouselModalContainer,lightCloseButton:!0,isOpen:o,onClose:m,usePortal:!0,onManageDisableScrolling:u},n.createElement(N.Z,{images:i.images,imageVariants:["scaled-small","scaled-medium","scaled-large","scaled-xlarge"]})))};var O=a(29997),T=a(29489),k=a(28390),Z=a(66978),F=a(7207),q=a(43820);const{UUID:H}=u.types,M=e=>{var t,a,i;const[l,r]=(0,n.useState)(e.inquiryModalOpenForListingId===e.params.id),[s,o]=(0,n.useState)(!1),{isAuthenticated:u,currentUser:I,getListing:y,getOwnListing:v,intl:N,onManageDisableScrolling:P,params:M,location:A,scrollingDisabled:U,showListingError:W,reviews:B,fetchReviewsError:R,sendInquiryInProgress:x,sendInquiryError:V,monthlyTimeSlots:z,onFetchTimeSlots:j,onFetchTransactionLineItems:Y,lineItems:J,fetchLineItemsInProgress:K,fetchLineItemsError:X,history:$,callSetInitialValues:G,onSendInquiry:Q,onInitializeCardPaymentData:ee,config:te,routeConfiguration:ae}=e,ne=te.listing,ie=new H(M.id),le=M.variant===g.l4,re=M.variant===g.my,se=le||re?(0,h.YC)(v(ie)):(0,h.Me)(y(ie)),oe=M.slug||(0,g.qi)(se.attributes.title||""),ce={slug:oe,...M},me=re?g.Ms:g.Am,ue=re?"photos":"details",ge=se.id&&se.attributes.state!==m.v7,de=le&&ge,he=(le||re)&&W&&403===W.status;if(de||he)return n.createElement(L.d9,{name:"ListingPage",params:ce,search:A.search});const pe=n.createElement(C.Z,null);if(W&&404===W.status)return n.createElement(f.Z,null);if(W)return n.createElement(w.mf,{topbar:pe,scrollingDisabled:U,intl:N});if(!se.id)return n.createElement(w.h2,{topbar:pe,scrollingDisabled:U,intl:N});const{description:Ee="",geolocation:Ie=null,price:ye=null,title:ve="",publicData:Le={},metadata:Ce={}}=se.attributes,be=n.createElement("span",null,(0,p.qO)(ve,{longWordMinLength:16,longWordClass:S.Z.longWord})),fe=se&&se.author,_e=!(!I||!fe)&&se.author.id.uuid===I.id.uuid,we=null===Le||void 0===Le?void 0:Le.transactionProcessAlias,Ne=(0,E.b$)(we.split("/")[0]),Pe=(0,E.YL)(Ne)?"booking":"purchase",Se=fe?se.author:null,De=(0,h.oY)(Se),Oe=_e&&!(null!==I&&void 0!==I&&null!==(t=I.attributes)&&void 0!==t&&t.stripeConnected),Te=Oe?n.createElement("div",null,n.createElement(c._H,{id:"ListingPage.payoutDetailsWarning",values:{processType:Pe}}),n.createElement(L.RC,{name:"StripePayoutPage"},n.createElement(c._H,{id:"ListingPage.payoutDetailsWarningLink"}))):null,ke=(0,h.d8)(De,""),{formattedPrice:Ze}=(0,w.MT)(ye,te.currency,N),Fe={params:ce,history:$,routes:ae},qe=(0,w.kN)({...Fe,currentUser:I,callSetInitialValues:G,location:A,setInitialValues:_.LA,setInquiryModalOpen:r}),He=(0,w.j3)({...Fe,getListing:y,onSendInquiry:Q,setInquiryModalOpen:r}),Me=(0,w.ip)({...Fe,currentUser:I,callSetInitialValues:G,getListing:y,onInitializeCardPaymentData:ee}),Ae=(0,w.Ib)(se,"facebook"),Ue=(0,w.Ib)(se,"twitter"),We=(0,w.Ib)(se,"".concat(te.layout.listingImage.variantPrefix,"-2x")).map((e=>e.url)),Be=te.marketplaceName,Re=N.formatMessage({id:"ListingPage.schemaTitle"},{title:ve,price:Ze,marketplaceName:Be}),xe="".concat(te.marketplaceRootURL).concat(A.pathname).concat(A.search).concat(A.hash),Ve=ye?{price:N.formatNumber((0,d.ud)(ye),{minimumFractionDigits:2,maximumFractionDigits:2}),priceCurrency:ye.currency}:{},ze=((null===(a=se.currentStock)||void 0===a||null===(i=a.attributes)||void 0===i?void 0:i.quantity)||0)>0?"https://schema.org/InStock":"https://schema.org/OutOfStock";return n.createElement(L.T3,{title:Re,scrollingDisabled:U,author:ke,description:Ee,facebookImages:Ae,twitterImages:Ue,schema:{"@context":"http://schema.org","@type":"Product",description:Ee,name:Re,image:We,offers:{"@type":"Offer",url:xe,...Ve,availability:ze}}},n.createElement(L.ip,{className:S.Z.pageRoot,topbar:pe,footer:n.createElement(b.Z,null)},n.createElement(D,{title:ve,listing:se,isOwnListing:_e,editParams:{id:ie.uuid,slug:oe,type:me,tab:ue},imageCarouselOpen:s,onImageCarouselClose:()=>o(!1),handleViewPhotosClick:e=>{e.stopPropagation(),o(!0)},onManageDisableScrolling:P,noPayoutDetailsSetWithOwnListing:Oe}),n.createElement("div",{className:S.Z.contentWrapperForHeroLayout},n.createElement("div",{className:S.Z.mainColumnForHeroLayout},n.createElement("div",{className:S.Z.mobileHeading},n.createElement(L.H4,{as:"h1",className:S.Z.orderPanelTitle},n.createElement(c._H,{id:"ListingPage.orderTitle",values:{title:be}}))),n.createElement(O.Z,{text:Ee,showAsIngress:!0}),n.createElement(T.Z,{publicData:Le,metadata:Ce,listingConfig:ne,intl:N}),ne.listingFields.reduce(((e,t)=>{var a,i;const{key:l,enumOptions:r,includeForListingTypes:s,scope:o="public"}=t,c=null===Le||void 0===Le?void 0:Le.listingType,u=null==s||s.includes(c),g="public"===o?Le[l]:"metadata"===o?Ce[l]:null,d=null!=g;return u&&t.schemaType===m.KP?[...e,n.createElement(k.Z,{key:l,heading:null===t||void 0===t||null===(a=t.showConfig)||void 0===a?void 0:a.label,options:(h=r,h.map((e=>({key:"".concat(e.option),label:e.label})))),selectedOptions:g||[]})]:u&&d&&t.schemaType===m.d$?[...e,n.createElement(O.Z,{key:l,heading:null===t||void 0===t||null===(i=t.showConfig)||void 0===i?void 0:i.label,text:g})]:e;var h}),[]),n.createElement(q.Z,{geolocation:Ie,publicData:Le,listingId:se.id,mapsConfig:te.maps}),n.createElement(Z.Z,{reviews:B,fetchReviewsError:R}),n.createElement(F.Z,{title:ve,listing:se,authorDisplayName:ke,onContactUser:qe,isInquiryModalOpen:u&&l,onCloseInquiryModal:()=>r(!1),sendInquiryError:V,sendInquiryInProgress:x,onSubmitInquiry:He,currentUser:I,onManageDisableScrolling:P})),n.createElement("div",{className:S.Z.orderColumnForHeroLayout},n.createElement(L.el,{className:S.Z.orderPanel,listing:se,isOwnListing:_e,onSubmit:e=>{const t=se.attributes.state===m._L;_e||t?window.scrollTo(0,0):Me(e)},authorLink:n.createElement(L.RC,{className:S.Z.authorNameLink,name:"ListingPage",params:ce,to:{hash:"#author"}},ke),title:n.createElement(c._H,{id:"ListingPage.orderTitle",values:{title:be}}),titleDesktop:n.createElement(L.H4,{as:"h1",className:S.Z.orderPanelTitle},n.createElement(c._H,{id:"ListingPage.orderTitle",values:{title:be}})),payoutDetailsWarning:Te,author:De,onManageDisableScrolling:P,onFetchTransactionLineItems:Y,onContactUser:qe,monthlyTimeSlots:z,onFetchTimeSlots:j,lineItems:J,fetchLineItemsInProgress:K,fetchLineItemsError:X,validListingTypes:te.listing.listingTypes,marketplaceCurrency:te.currency,dayCountAvailableForBooking:te.stripe.dayCountAvailableForBooking,marketplaceName:te.marketplaceName})))))};M.defaultProps={currentUser:null,inquiryModalOpenForListingId:null,showListingError:null,reviews:[],fetchReviewsError:null,monthlyTimeSlots:null,sendInquiryError:null,lineItems:null,fetchLineItemsError:null};const A=(0,i.qC)((0,l.$j)((e=>{const{isAuthenticated:t}=e.auth,{showListingError:a,reviews:n,fetchReviewsError:i,monthlyTimeSlots:l,sendInquiryInProgress:r,sendInquiryError:s,lineItems:o,fetchLineItemsInProgress:c,fetchLineItemsError:m,inquiryModalOpenForListingId:u}=e.ListingPage,{currentUser:g}=e.user;return{isAuthenticated:t,currentUser:g,getListing:t=>{const a={id:t,type:"listing"},n=(0,I.EV)(e,[a]);return 1===n.length?n[0]:null},getOwnListing:t=>{const a={id:t,type:"ownListing"},n=(0,I.EV)(e,[a]);return 1===n.length?n[0]:null},scrollingDisabled:(0,y.uS)(e),inquiryModalOpenForListingId:u,showListingError:a,reviews:n,fetchReviewsError:i,monthlyTimeSlots:l,lineItems:o,fetchLineItemsInProgress:c,fetchLineItemsError:m,sendInquiryInProgress:r,sendInquiryError:s}}),(e=>({onManageDisableScrolling:(t,a)=>e((0,y.R4)(t,a)),callSetInitialValues:(t,a,n)=>e(t(a,n)),onFetchTransactionLineItems:t=>e((0,_.nd)(t)),onSendInquiry:(t,a)=>e((0,_.DE)(t,a)),onInitializeCardPaymentData:()=>e((0,v.aw)()),onFetchTimeSlots:(t,a,n,i)=>e((0,_.HA)(t,a,n,i))}))))((e=>{const t=(0,s.mX)(),a=(0,o.a5)(),i=(0,c.YB)(),l=(0,r.k6)(),m=(0,r.TH)();return n.createElement(M,Object.assign({config:t,routeConfiguration:a,intl:i,history:l,location:m},e))}))}}]);
//# sourceMappingURL=ListingPageCoverPhoto.a611fd66.chunk.js.map