"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7711],{4833:(e,t,r)=>{r.r(t),r.d(t,{StripePayoutPageComponent:()=>k,default:()=>v});var n=r(72791),c=r(42789),o=r(47375),a=r(6639),u=r(86134),i=r(53002),s=r(80948),l=r(10314),p=(r(73665),r(46902)),g=r(46378),d=r(81301),P=r(52745),S=r(67600),A=r(85196);const m="StripePayoutPage_content__kxziG",y="StripePayoutPage_desktopTopbar__Lzgqr",_="StripePayoutPage_mobileTopbar__0K4pK",E="StripePayoutPage_heading__yUpdg",L="StripePayoutPage_stripeConnectAccountForm__6Fvac",D="success",h="failure",C=(e,t,r)=>{const n=(0,i.EW)("StripePayoutOnboardingPage",r,{returnURLType:e},{}),c=t.replace(/\/$/,"");return"".concat(c).concat(n)},b=e=>e&&e.external_accounts.data.length>0?e.external_accounts.data[0].last4:null,f=(e,t)=>null!=e&&e.requirements&&Array.isArray(e.requirements[t])&&e.requirements[t].length>0,k=e=>{const t=(0,a.mX)(),r=(0,u.a5)(),{currentUser:c,scrollingDisabled:o,getAccountLinkInProgress:i,getAccountLinkError:p,createStripeAccountError:g,updateStripeAccountError:A,fetchStripeAccountError:k,stripeAccountFetched:v,stripeAccount:U,onPayoutDetailsChange:N,onPayoutDetailsSubmit:T,onGetStripeConnectAccountLink:F,payoutDetailsSaveInProgress:I,payoutDetailsSaved:R,params:q,intl:G}=e,{returnURLType:H}=q,x=(0,l.j0)(c),B=!!x.id,K=B&&!!U&&!!U.id,O=G.formatMessage({id:"StripePayoutPage.title"}),Z=i,j=t.marketplaceRootURL,w=C(D,j,r),z=C(h,j,r),M=K?U.id:null,W=K?(e=>e.attributes.stripeAccountData||null)(U):null,X=U&&(f(W,"past_due")||f(W,"currently_due")),$=W?W.country:null,J=(Q=F,V={accountId:M,successURL:w,failureURL:z},e=>()=>{Q({type:e,...V}).then((e=>{window.location.href=e})).catch((e=>console.error(e)))});var Q,V;const Y=H===h,ee=K&&X;return H===D&&K&&!X?n.createElement(d.d9,{name:"StripePayoutPage"}):(Y&&!p&&J("custom_account_verification")(),n.createElement(d.T3,{title:O,scrollingDisabled:o},n.createElement(d.i_,{topbar:n.createElement(n.Fragment,null,n.createElement(P.Z,{currentPage:"StripePayoutPage",desktopClassName:y,mobileClassName:_}),n.createElement(d.Tb,{currentPage:"StripePayoutPage"})),sideNav:null,useAccountSettingsNav:!0,currentPage:"StripePayoutPage",footer:n.createElement(S.Z,null)},n.createElement("div",{className:m},n.createElement(d.H3,{as:"h1",className:E},n.createElement(s._H,{id:"StripePayoutPage.heading"})),B?Y&&!p?n.createElement(s._H,{id:"StripePayoutPage.redirectingToStripe"}):n.createElement(d.qW,{rootClassName:L,disabled:Z,inProgress:I,ready:R,currentUser:x,stripeBankAccountLastDigits:b(W),savedCountry:$,submitButtonText:G.formatMessage({id:"StripePayoutPage.submitButtonText"}),stripeAccountError:g||A||k,stripeAccountLinkError:p,stripeAccountFetched:v,onChange:N,onSubmit:T,onGetStripeConnectAccountLink:J,stripeConnected:K},K&&!Y&&ee?n.createElement(d.oy,{type:"verificationNeeded",inProgress:i,onGetStripeConnectAccountLink:J("custom_account_verification")}):K&&$&&!Y?n.createElement(d.oy,{type:"verificationSuccess",inProgress:i,disabled:I,onGetStripeConnectAccountLink:J("custom_account_update")}):null):n.createElement(s._H,{id:"StripePayoutPage.loadingData"})))))};k.defaultProps={currentUser:null,createStripeAccountError:null,updateStripeAccountError:null,fetchStripeAccountError:null,getAccountLinkError:null,stripeAccount:null,params:{returnURLType:null}};const v=(0,c.qC)((0,o.$j)((e=>{const{getAccountLinkInProgress:t,getAccountLinkError:r,createStripeAccountError:n,updateStripeAccountError:c,fetchStripeAccountError:o,stripeAccount:a,stripeAccountFetched:u}=e.stripeConnectAccount,{currentUser:i}=e.user,{payoutDetailsSaveInProgress:s,payoutDetailsSaved:l}=e.StripePayoutPage;return{currentUser:i,getAccountLinkInProgress:t,getAccountLinkError:r,createStripeAccountError:n,updateStripeAccountError:c,fetchStripeAccountError:o,stripeAccount:a,stripeAccountFetched:u,payoutDetailsSaveInProgress:s,payoutDetailsSaved:l,scrollingDisabled:(0,p.uS)(e)}}),(e=>({onPayoutDetailsChange:()=>e((0,g.FZ)()),onPayoutDetailsSubmit:(t,r)=>e((0,A.ZK)(t,r)),onGetStripeConnectAccountLink:t=>e((0,g.cU)(t))}))),s.XN)(k)}}]);
//# sourceMappingURL=StripePayoutPage.e0b86148.chunk.js.map