{"version":3,"file":"LandingPage.bd3023b0.chunk.js","mappings":"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","sources":["containers/LandingPage/FallbackPage.js","containers/LandingPage/LandingPage.js","util/string.js","webpack://app/./src/containers/LandingPage/FallbackPage.module.css?d96a"],"sourcesContent":["import React from 'react';\r\nimport loadable from '@loadable/component';\r\n\r\nimport css from './FallbackPage.module.css';\r\n\r\nconst PageBuilder = loadable(() =>\r\n  import(/* webpackChunkName: \"PageBuilder\" */ '../PageBuilder/PageBuilder')\r\n);\r\n\r\n// Create fallback content (array of sections) in page asset format:\r\nexport const fallbackSections = error => ({\r\n  sections: [\r\n    {\r\n      sectionType: 'customMaintenance',\r\n      sectionId: 'maintenance-mode',\r\n      // pass possible error to SectionMaintenanceMode component\r\n      error,\r\n    },\r\n  ],\r\n  meta: {\r\n    pageTitle: {\r\n      fieldType: 'metaTitle',\r\n      content: 'Home page',\r\n    },\r\n    pageDescription: {\r\n      fieldType: 'metaDescription',\r\n      content: 'Home page fetch failed',\r\n    },\r\n  },\r\n});\r\n\r\n// Note: this microcopy/translation does not come from translation file.\r\n//       It needs to be something that is not part of fetched assets but built-in text\r\nconst SectionMaintenanceMode = props => {\r\n  const { sectionId, error } = props;\r\n  // 404 means that the landing-page asset was not found from the expected asset path\r\n  // which is defined in config.js\r\n  const is404 = error?.status === 404;\r\n\r\n  return (\r\n    <section id={sectionId} className={css.root}>\r\n      {is404 ? (\r\n        <div className={css.content}>\r\n          <h2>Oops, something went wrong!</h2>\r\n          <p>\r\n            The marketplace is not fully operational at the moment.\r\n            <br />\r\n            Try refreshing the page and if that does not solve the issue, contact the marketplace\r\n            admins.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className={css.content}>\r\n          <h2>Oops, something went wrong!</h2>\r\n          <p>{error?.message}</p>\r\n        </div>\r\n      )}\r\n    </section>\r\n  );\r\n};\r\n\r\n// This is the fallback page, in case there's no Landing Page asset defined in Console.\r\nconst FallbackPage = props => {\r\n  const { error, ...rest } = props;\r\n  return (\r\n    <PageBuilder\r\n      pageAssetsData={fallbackSections(error)}\r\n      options={{\r\n        sectionComponents: {\r\n          customMaintenance: { component: SectionMaintenanceMode },\r\n        },\r\n      }}\r\n      {...rest}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FallbackPage;\r\n","import React from 'react';\r\nimport loadable from '@loadable/component';\r\n\r\nimport { bool, object } from 'prop-types';\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { camelize } from '../../util/string';\r\nimport { propTypes } from '../../util/types';\r\n\r\nimport FallbackPage from './FallbackPage';\r\nimport { ASSET_NAME } from './LandingPage.duck';\r\n\r\nconst PageBuilder = loadable(() =>\r\n  import(/* webpackChunkName: \"PageBuilder\" */ '../PageBuilder/PageBuilder')\r\n);\r\n\r\nexport const LandingPageComponent = props => {\r\n  const { pageAssetsData, inProgress, error } = props;\r\n\r\n  return (\r\n    <PageBuilder\r\n      pageAssetsData={pageAssetsData?.[camelize(ASSET_NAME)]?.data}\r\n      inProgress={inProgress}\r\n      error={error}\r\n      fallbackPage={<FallbackPage error={error} />}\r\n    />\r\n  );\r\n};\r\n\r\nLandingPageComponent.propTypes = {\r\n  pageAssetsData: object,\r\n  inProgress: bool,\r\n  error: propTypes.error,\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  const { pageAssetsData, inProgress, error } = state.hostedAssets || {};\r\n  return { pageAssetsData, inProgress, error };\r\n};\r\n\r\n// Note: it is important that the withRouter HOC is **outside** the\r\n// connect HOC, otherwise React Router won't rerender any Route\r\n// components since connect implements a shouldComponentUpdate\r\n// lifecycle hook.\r\n//\r\n// See: https://github.com/ReactTraining/react-router/issues/4671\r\nconst LandingPage = compose(connect(mapStateToProps))(LandingPageComponent);\r\n\r\nexport default LandingPage;\r\n","// Convert kebab-case to camelCase: my-page-asset > myPageAsset\r\nexport const camelize = s => s.replace(/-(.)/g, l => l[1].toUpperCase());\r\n","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"FallbackPage_root__-ESd2\",\"content\":\"FallbackPage_content__4LVB-\"};"],"names":["PageBuilder","loadable","resolved","chunkName","isReady","props","key","resolve","__webpack_modules__","importAsync","requireAsync","then","requireSync","id","__webpack_require__","fallbackSections","error","sections","sectionType","sectionId","meta","pageTitle","fieldType","content","pageDescription","SectionMaintenanceMode","is404","status","React","className","css","root","message","FallbackPage","rest","Object","assign","pageAssetsData","options","sectionComponents","customMaintenance","component","LandingPageComponent","_pageAssetsData$camel","inProgress","camelize","ASSET_NAME","data","fallbackPage","mapStateToProps","state","hostedAssets","LandingPage","compose","connect","s","replace","l","toUpperCase"],"sourceRoot":""}