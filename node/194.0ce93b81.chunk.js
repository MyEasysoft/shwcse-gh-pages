"use strict";exports.id=194,exports.ids=[194],exports.modules={2194:(e,t,a)=>{a.d(t,{Z:()=>j});var n=a(6689),i=a.n(n),s=a(580),r=a.n(s),l=a(6695),g=a(4661),c=a(9003),o=a.n(c),m=a(6639),d=a(6134),u=a(1233),p=a(2887),_=a(3665),L=a(5198),v=a(4941),E=a(5161),C=a(1422),M=a(7285),f=a(9930);const y={coverEverything:"ManageListingCard_coverEverything__RbpJL",root:"ManageListingCard_root__BbTGw",menuOverlayWrapper:"ManageListingCard_menuOverlayWrapper__sygGL ManageListingCard_coverEverything__RbpJL",menuOverlay:"ManageListingCard_menuOverlay__wcCSj ManageListingCard_coverEverything__RbpJL",menuOverlayOpen:"ManageListingCard_menuOverlayOpen__kLfAY",clickWrapper:"ManageListingCard_clickWrapper__ykV9T",rootForImage:"ManageListingCard_rootForImage__12pXn ManageListingCard_coverEverything__RbpJL",menubarWrapper:"ManageListingCard_menubarWrapper__+Q5mX",menubarGradient:"ManageListingCard_menubarGradient__iuu+T",menubar:"ManageListingCard_menubar__+4D6n",menuLabel:"ManageListingCard_menuLabel__G32IK",iconWrapper:"ManageListingCard_iconWrapper__h-7sf",listingMenuIsOpen:"ManageListingCard_listingMenuIsOpen__fIngM",menuContent:"ManageListingCard_menuContent__GM1fx",menuItem:"ManageListingCard_menuItem__vLSGu",menuItemDisabled:"ManageListingCard_menuItemDisabled__DEeDi",info:"ManageListingCard_info__Jw3XE",price:"ManageListingCard_price__iytG8",priceValue:"ManageListingCard_priceValue__D3jWk p",perUnit:"ManageListingCard_perUnit__JQ1PN marketplaceTinyFontStyles",noPrice:"ManageListingCard_noPrice__WJnNE ManageListingCard_perUnit__JQ1PN marketplaceTinyFontStyles",mainInfo:"ManageListingCard_mainInfo__ZblZ1",titleWrapper:"ManageListingCard_titleWrapper__8vuj5",title:"ManageListingCard_title__1ftQD p",titleDraft:"ManageListingCard_titleDraft__P4CZi",draftNoImage:"ManageListingCard_draftNoImage__0xduN",edit:"ManageListingCard_edit__ixrH9 buttonSecondary",openListingButton:"ManageListingCard_openListingButton__pHRYc buttonPrimaryInline",finishListingDraftLink:"ManageListingCard_finishListingDraftLink__IJiLI buttonPrimaryInline",menu:"ManageListingCard_menu__MkQH+",cardIsOpen:"ManageListingCard_cardIsOpen__heLGU",manageLinks:"ManageListingCard_manageLinks__Hpgcw marketplaceTinyFontStyles",manageLink:"ManageListingCard_manageLink__XehWS",manageLinksSeparator:"ManageListingCard_manageLinksSeparator__Pg9nd",closeListingText:"ManageListingCard_closeListingText__y+eDX h5"},k=e=>{const{className:t,isActive:a}=e,n=o()(y.menuIcon,t),s=a?"":"url(#a)";return i().createElement("svg",{className:n,width:"26",height:"12",viewBox:"0 0 26 12",xmlns:"http://www.w3.org/2000/svg"},i().createElement("defs",null,i().createElement("filter",{x:"-38.9%",y:"-125%",width:"177.8%",height:"450%",filterUnits:"objectBoundingBox"},i().createElement("feOffset",{dy:"2",in:"SourceAlpha",result:"shadowOffsetOuter1"}),i().createElement("feGaussianBlur",{stdDeviation:"2",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i().createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.5 0",in:"shadowBlurOuter1"}))),i().createElement("g",{transform:"translate(-342 -18)",filter:s},i().createElement("path",{d:"M348 24c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"})),i().createElement("g",{transform:"translate(-342 -18)"},i().createElement("path",{d:"M348 24c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2zm7 0c-1.105 0-2-.895-2-2s.895-2 2-2 2 .895 2 2-.895 2-2 2z"})))};k.defaultProps={className:null,isActive:!1};const{bool:N,string:h}=r(),I=k,O="Overlay_root__GqUNg Overlay_coverEverything__x99df",b="Overlay_overlay__b+Hov Overlay_coverEverything__x99df",P="Overlay_overlayContent__0Ovs5 h4 Overlay_coverEverything__x99df",T="Overlay_message__dsWCw textXSmall",S="Overlay_errorMessage__787x+ Overlay_message__dsWCw textXSmall",x=e=>{const{className:t,rootClassName:a,message:n,errorMessage:s,children:r}=e,l=o()(a||O,t);return i().createElement("div",{className:l,onClick:e=>{e.preventDefault(),e.stopPropagation()}},i().createElement("div",{className:b}),i().createElement("div",{className:P},s?i().createElement("div",{className:S},s):null,n?i().createElement("div",{className:T},n):null,r))};x.defaultProps={className:null,rootClassName:null,message:null,errorMessage:null,children:null};const D=x,W=(e,t)=>{const a=t.id.uuid,n=(0,E.qi)(t.attributes.title),i=t.attributes.state===_.v7,s=t.attributes.state===_.WM,r=s?E.my:i?E.l4:null,l=i||s?{name:"ListingPageVariant",params:{id:a,slug:n,variant:r}}:{name:"ListingPage",params:{id:a,slug:n}};return(0,C.EW)(l.name,e,l.params,{})},w=e=>{const{isDraft:t,title:a,id:n,slug:s,hasImage:r,intl:l}=e;return t?i().createElement(i().Fragment,null,i().createElement("div",{className:o()({[y.draftNoImage]:!r})}),i().createElement(D,{message:l.formatMessage({id:"ManageListingCard.draftOverlayText"},{listingTitle:a})},i().createElement(f.RC,{className:y.finishListingDraftLink,name:"EditListingPage",params:{id:n,slug:s,type:E.Ms,tab:"photos"}},i().createElement(u._H,{id:"ManageListingCard.finishListingDraft"})))):null},A=e=>{const{isClosed:t,title:a,actionsInProgressListingId:n,currentListingId:s,onOpenListing:r,intl:l}=e;return t?i().createElement(D,{message:l.formatMessage({id:"ManageListingCard.closedListing"},{listingTitle:a})},i().createElement(f.eM,{className:y.openListingButton,disabled:!!n,onClick:e=>{e.preventDefault(),e.stopPropagation(),n||r(s)}},i().createElement(u._H,{id:"ManageListingCard.openListing"}))):null},H=e=>{const{isPendingApproval:t,title:a,intl:n}=e;return t?i().createElement(D,{message:n.formatMessage({id:"ManageListingCard.pendingApproval"},{listingTitle:a})}):null},B=e=>{const{showOutOfStockOverlay:t,title:a,id:n,slug:s,actionsInProgressListingId:r,currentListingId:l,hasStockManagementInUse:g,onCloseListing:c,intl:o}=e;return t?i().createElement(D,{message:o.formatMessage({id:"ManageListingCard.outOfStockOverlayText"},{listingTitle:a})},g?i().createElement(i().Fragment,null,i().createElement(f.RC,{className:y.finishListingDraftLink,name:"EditListingPage",params:{id:n,slug:s,type:E.Am,tab:"pricing-and-stock"}},i().createElement(u._H,{id:"ManageListingCard.setPriceAndStock"})),i().createElement("div",{className:y.closeListingText},o.formatMessage({id:"ManageListingCard.closeListingTextOr"},{closeListingLink:i().createElement(f.T5,{key:"closeListingLink",className:y.closeListingText,disabled:!!r,onClick:()=>{r||c(l)}},i().createElement(u._H,{id:"ManageListingCard.closeListingText"}))}))):i().createElement("div",{className:y.closeListingText},i().createElement(f.T5,{key:"closeListingLink",className:y.closeListingText,disabled:!!r,onClick:()=>{r||c(l)}},i().createElement(u._H,{id:"ManageListingCard.closeListingText"})))):null},G=e=>{const{id:t,slug:a,editListingLinkType:n,isBookable:s,hasListingType:r,hasStockManagementInUse:l,currentStock:g,intl:c}=e;return r&&(s||l)?i().createElement(i().Fragment,null,i().createElement("span",{className:y.manageLinksSeparator}," \u2022 "),s?i().createElement(f.RC,{className:y.manageLink,name:"EditListingPage",params:{id:t,slug:a,type:n,tab:"availability"}},i().createElement(u._H,{id:"ManageListingCard.manageAvailability"})):i().createElement(f.RC,{className:y.manageLink,name:"EditListingPage",params:{id:t,slug:a,type:n,tab:"pricing-and-stock"}},null==g?c.formatMessage({id:"ManageListingCard.setPriceAndStock"}):c.formatMessage({id:"ManageListingCard.manageStock"},{currentStock:g}))):null},U=e=>{const{price:t,publicData:a,config:n,intl:s}=e,{listingType:r}=a||{},l=n.listing.listingTypes.find((e=>e.listingType===r)),g=(0,p.ED)(l);if(g&&!t)return i().createElement("div",{className:y.noPrice},i().createElement(u._H,{id:"ManageListingCard.priceNotSet"}));if(!g)return null;const c=(0,M.Ll)(null===a||void 0===a?void 0:a.transactionProcessAlias),{formattedPrice:o,priceTitle:m}=((e,t,a)=>{if((null===e||void 0===e?void 0:e.currency)===t){const t=(0,L.lb)(a,e);return{formattedPrice:t,priceTitle:t}}return e?{formattedPrice:a.formatMessage({id:"ManageListingCard.unsupportedPrice"},{currency:e.currency}),priceTitle:a.formatMessage({id:"ManageListingCard.unsupportedPriceTitle"},{currency:e.currency})}:{}})(t,n.currency,s);return i().createElement("div",{className:y.price},i().createElement("div",{className:y.priceValue,title:m},o),c?i().createElement("div",{className:y.perUnit},i().createElement(u._H,{id:"ManageListingCard.perUnit",values:{unitType:null===a||void 0===a?void 0:a.unitType}})):null)},R=e=>{var t,a,n;const s=(0,m.mX)(),r=(0,d.a5)(),{className:l,rootClassName:g,hasClosingError:c,hasOpeningError:p,history:L,intl:k,isMenuOpen:N,actionsInProgressListingId:h,listing:O,onCloseListing:b,onOpenListing:P,onToggleMenu:T,renderSizes:S}=e,x=o()(g||y.root,l),R=(0,v.YC)(O),z=R.id.uuid,{title:F="",price:J,state:X,publicData:j}=R.attributes,Q=(0,E.qi)(F),V=X===_.v7,Z=X===_._L,q=X===_.WM,{listingType:Y,transactionProcessAlias:K}=j||{},$=(0,M.Ll)(K),ee=(0,M.kI)(K),te=!!Y,ae=s.listing.listingTypes.find((e=>e.listingType===Y)),ne=null===(t=R.currentStock)||void 0===t||null===(a=t.attributes)||void 0===a?void 0:a.quantity,ie=!$&&0===ne&&!V&&!Z&&!q,se=ee&&(null===ae||void 0===ae?void 0:ae.stockType)===_.p9,re=R.images&&R.images.length>0?R.images[0]:null,le=o()(y.menuItem,{[y.menuItemDisabled]:!!h}),ge=p||c,ce=h&&h.uuid===z,oe=()=>{const{component:e}=(0,C.dI)("ListingPage",r);e.preload&&e.preload()},me=o()(y.title,{[y.titlePending]:V,[y.titleDraft]:q}),de=q?E.Ms:E.Am,{aspectWidth:ue=1,aspectHeight:pe=1,variantPrefix:_e="listing-card"}=s.layout.listingImage,Le=re?Object.keys(null===re||void 0===re||null===(n=re.attributes)||void 0===n?void 0:n.variants).filter((e=>e.startsWith(_e))):[];return i().createElement("div",{className:x},i().createElement("div",{className:y.clickWrapper,tabIndex:0,onClick:e=>{e.preventDefault(),e.stopPropagation(),L.push(W(r,O))},onMouseOver:oe,onTouchStart:oe},i().createElement(f.Zz,{width:ue,height:pe},i().createElement(f.t3,{rootClassName:y.rootForImage,alt:F,image:re,variants:Le,sizes:S})),i().createElement("div",{className:o()(y.menuOverlayWrapper)},i().createElement("div",{className:o()(y.menuOverlay,{[y.menuOverlayOpen]:N})})),i().createElement("div",{className:y.menubarWrapper},i().createElement("div",{className:y.menubarGradient}),i().createElement("div",{className:y.menubar},i().createElement(f.v2,{className:o()(y.menu,{[y.cardIsOpen]:!Z}),contentPlacementOffset:-12,contentPosition:"left",useArrow:!1,onToggleActive:e=>{T(e?R:null)},isOpen:N},i().createElement(f.Lb,{className:y.menuLabel,isOpenClassName:y.listingMenuIsOpen},i().createElement("div",{className:y.iconWrapper},i().createElement(I,{className:y.menuIcon,isActive:N}))),i().createElement(f.Dv,{rootClassName:y.menuContent},i().createElement(f.sN,{key:"close-listing"},i().createElement(f.T5,{rootClassName:le,onClick:e=>{e.preventDefault(),e.stopPropagation(),h||(T(null),b(R.id))}},i().createElement(u._H,{id:"ManageListingCard.closeListing"}))))))),i().createElement(w,{isDraft:q,title:F,id:z,slug:Q,hasImage:!!re,intl:k}),i().createElement(A,{isClosed:Z,title:F,actionsInProgressListingId:h,currentListingId:R.id,onOpenListing:P,intl:k}),i().createElement(H,{isPendingApproval:V,title:F,intl:k}),i().createElement(B,{showOutOfStockOverlay:ie,title:F,id:z,slug:Q,actionsInProgressListingId:h,currentListingId:R.id,onCloseListing:b,hasStockManagementInUse:se,intl:k}),ce?i().createElement(D,null,i().createElement(f.vM,null)):ge?i().createElement(D,{errorMessage:k.formatMessage({id:"ManageListingCard.actionFailed"})}):null),i().createElement("div",{className:y.info},i().createElement(U,{price:J,publicData:j,config:s,intl:k}),i().createElement("div",{className:y.mainInfo},i().createElement("div",{className:y.titleWrapper},i().createElement(f.T5,{rootClassName:me,onClick:e=>{e.preventDefault(),e.stopPropagation(),L.push(W(r,O))}},((e,t)=>e.split(/([^\s]+)/gi).map(((e,a)=>e.length>t?i().createElement("span",{key:a,style:{wordBreak:"break-all"}},e):e)))(F,7)))),i().createElement("div",{className:y.manageLinks},i().createElement(f.RC,{className:y.manageLink,name:"EditListingPage",params:{id:z,slug:Q,type:de,tab:"details"}},i().createElement(u._H,{id:"ManageListingCard.editListing"})),i().createElement(G,{id:z,slug:Q,editListingLinkType:de,isBookable:$,currentStock:ne,hasListingType:te,hasStockManagementInUse:se,intl:k}))))};R.defaultProps={className:null,rootClassName:null,actionsInProgressListingId:null,renderSizes:null};const{bool:z,func:F,shape:J,string:X}=r(),j=(0,l.compose)(g.withRouter,u.XN)(R)}};
//# sourceMappingURL=194.0ce93b81.chunk.js.map