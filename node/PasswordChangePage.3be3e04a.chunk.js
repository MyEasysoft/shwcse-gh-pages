"use strict";exports.id=385,exports.ids=[385],exports.modules={9407:(e,s,r)=>{r.r(s),r.d(s,{PasswordChangePageComponent:()=>L,default:()=>R});var a=r(6689),o=r.n(a),n=r(580),t=r.n(n),d=r(6695),l=r(6022),i=r(1233),m=(r(3665),r(6902)),c=r(9930),g=r(2745),w=r(7600),P=r(2411),h=r(9003),u=r.n(h),C=r(1341),p=r(4941),E=r(5074);const _={root:"PasswordChangeForm_root__D64td",newPasswordSection:"PasswordChangeForm_newPasswordSection__O6n8a",confirmChangesSection:"PasswordChangeForm_confirmChangesSection__5vqhf",confirmChangesSectionVisible:"PasswordChangeForm_confirmChangesSectionVisible__DtoAO",confirmChangesTitle:"PasswordChangeForm_confirmChangesTitle__hqLza",confirmChangesInfo:"PasswordChangeForm_confirmChangesInfo__cAsZu",bottomWrapper:"PasswordChangeForm_bottomWrapper__RbGvM",error:"PasswordChangeForm_error__-dDVS h4",helperLink:"PasswordChangeForm_helperLink__scojf a",emailStyle:"PasswordChangeForm_emailStyle__LF37r"};class b extends a.Component{constructor(e){super(e),this.state={showResetPasswordMessage:!1},this.resetTimeoutId=null,this.submittedValues={},this.handleResetPassword=this.handleResetPassword.bind(this)}componentWillUnmount(){window.clearTimeout(this.resetTimeoutId)}handleResetPassword(){this.setState({showResetPasswordMessage:!0});const e=this.props.currentUser.attributes.email;this.props.onResetPassword(e)}render(){return o().createElement(P.Form,Object.assign({},this.props,{render:e=>{const{rootClassName:s,className:r,formId:a,changePasswordError:n,currentUser:t,handleSubmit:d,inProgress:l,resetPasswordInProgress:m,intl:g,invalid:w,pristine:P,ready:h,form:b,values:f}=e;if(!(0,p.j0)(t).id)return null;const F=g.formatMessage({id:"PasswordChangeForm.newPasswordLabel"}),S=g.formatMessage({id:"PasswordChangeForm.newPasswordPlaceholder"}),N=g.formatMessage({id:"PasswordChangeForm.newPasswordRequired"}),I=C.uL(N),T=g.formatMessage({id:"PasswordChangeForm.passwordTooShort"},{minLength:C.Z9}),L=g.formatMessage({id:"PasswordChangeForm.passwordTooLong"},{maxLength:C.e2}),v=C.Ei(T,C.Z9),M=C.BS(L,C.e2),R=g.formatMessage({id:"PasswordChangeForm.passwordLabel"}),k=g.formatMessage({id:"PasswordChangeForm.passwordPlaceholder"}),H=g.formatMessage({id:"PasswordChangeForm.passwordRequired"}),y=C.uL(H),U=g.formatMessage({id:"PasswordChangeForm.passwordFailed"}),x=f.currentPassword&&this.submittedValues.currentPassword!==f.currentPassword,D=(0,E.DX)(n)?U:null,V=u()(_.confirmChangesSection,{[_.confirmChangesSectionVisible]:!P}),A=n&&!D?o().createElement("span",{className:_.error},o().createElement(i._H,{id:"PasswordChangeForm.genericFailure"})):null,Z=u()(s||_.root,r),j=w||l,q=o().createElement("span",{className:_.helperLink,onClick:this.handleResetPassword,role:"button"},o().createElement(i._H,{id:"PasswordChangeForm.resetPasswordLinkText"})),W=o().createElement("span",{className:_.helperLink,onClick:this.handleResetPassword,role:"button"},o().createElement(i._H,{id:"PasswordChangeForm.resendPasswordLinkText"})),B=this.state.showResetPasswordMessage||m?o().createElement(o().Fragment,null,o().createElement(i._H,{id:"PasswordChangeForm.resetPasswordLinkSent",values:{email:o().createElement("span",{className:_.emailStyle},t.attributes.email)}})," ",W):q;return o().createElement(c.l0,{className:Z,onSubmit:e=>{this.submittedValues=f,d(e).then((()=>{this.resetTimeoutId=window.setTimeout((()=>{b.restart(),this.props.onChange&&this.props.onChange()}),800)})).catch((()=>{}))}},o().createElement("div",{className:_.newPasswordSection},o().createElement(c.gC,{type:"password",id:a?"".concat(a,".newPassword"):"newPassword",name:"newPassword",autoComplete:"new-password",label:F,placeholder:S,validate:C.A3(I,v,M)})),o().createElement("div",{className:V},o().createElement(c.H4,{as:"h3",className:_.confirmChangesTitle},o().createElement(i._H,{id:"PasswordChangeForm.confirmChangesTitle"})),o().createElement("p",{className:_.confirmChangesInfo},o().createElement(i._H,{id:"PasswordChangeForm.confirmChangesInfo"}),o().createElement("br",null),o().createElement(i._H,{id:"PasswordChangeForm.resetPasswordInfo",values:{resetPasswordLink:B}})),o().createElement(c.gC,{className:_.password,type:"password",id:"currentPassword",name:"currentPassword",autoComplete:"current-password",label:R,placeholder:k,validate:C.A3(y,v,M),customErrorText:x?null:D})),o().createElement("div",{className:_.bottomWrapper},A,o().createElement(c.KM,{type:"submit",inProgress:l,ready:h,disabled:j},o().createElement(i._H,{id:"PasswordChangeForm.saveChanges"}))))}}))}}b.defaultProps={rootClassName:null,className:null,changePasswordError:null,inProgress:!1,formId:null,resetPasswordInProgress:!1,resetPasswordError:null};const{bool:f,string:F}=t(),S=(0,d.compose)(i.XN)(b);S.displayName="PasswordChangeForm";const N=S;var I=r(3181);const T={content:"PasswordChangePage_content__QjUBH",desktopTopbar:"PasswordChangePage_desktopTopbar__E5IUB",mobileTopbar:"PasswordChangePage_mobileTopbar__SL9-g"},L=e=>{const{changePasswordError:s,changePasswordInProgress:r,currentUser:a,onChange:n,onSubmitChangePassword:t,onResetPassword:d,resetPasswordInProgress:l,resetPasswordError:m,passwordChanged:P,scrollingDisabled:h,intl:u}=e,C=a&&a.id?o().createElement(N,{className:T.form,changePasswordError:s,currentUser:a,onSubmit:t,onChange:n,onResetPassword:d,resetPasswordInProgress:l,resetPasswordError:m,inProgress:r,ready:P}):null,p=u.formatMessage({id:"PasswordChangePage.title"});return o().createElement(c.T3,{title:p,scrollingDisabled:h},o().createElement(c.i_,{topbar:o().createElement(o().Fragment,null,o().createElement(g.Z,{currentPage:"PasswordChangePage",desktopClassName:T.desktopTopbar,mobileClassName:T.mobileTopbar}),o().createElement(c.Tb,{currentPage:"PasswordChangePage"})),sideNav:null,useAccountSettingsNav:!0,currentPage:"PasswordChangePage",footer:o().createElement(w.Z,null)},o().createElement("div",{className:T.content},o().createElement(c.H3,{as:"h1"},o().createElement(i._H,{id:"PasswordChangePage.heading"})),C)))};L.defaultProps={changePasswordError:null,currentUser:null,resetPasswordInProgress:!1,resetPasswordError:null};const{bool:v,func:M}=t(),R=(0,d.compose)((0,l.connect)((e=>{const{changePasswordError:s,changePasswordInProgress:r,passwordChanged:a,resetPasswordInProgress:o,resetPasswordError:n}=e.PasswordChangePage,{currentUser:t}=e.user;return{changePasswordError:s,changePasswordInProgress:r,currentUser:t,passwordChanged:a,scrollingDisabled:(0,m.uS)(e),resetPasswordInProgress:o,resetPasswordError:n}}),(e=>({onChange:()=>e((0,I.Ib)()),onSubmitChangePassword:s=>e((0,I.Cp)(s)),onResetPassword:s=>e((0,I.c0)(s))}))),i.XN)(L)}};
//# sourceMappingURL=PasswordChangePage.3be3e04a.chunk.js.map