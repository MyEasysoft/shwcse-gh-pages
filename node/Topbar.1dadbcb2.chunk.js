"use strict";exports.id=383,exports.ids=[383],exports.modules={1687:(e,t,a)=>{a.r(t),a.d(t,{default:()=>mt});var n=a(6689),o=a.n(n),r=a(808),s=a.n(r),i=a(9003),l=a.n(i),c=a(1420),m=a(6639),p=a(6134),u=a(1233),b=a(1956),_=a(5836),d=a(5161),g=a(1422),h=(a(3665),a(9930)),E=a(580),M=a.n(E);const N="Topbar_root__lgyxz",k="Topbar_container__N+bj2",T="Topbar_menu__PDp-p h5",S="Topbar_searchMenu__7xAPJ h5",C="Topbar_menuIcon__yIxFB",f="Topbar_searchMenuIcon__c3n5m",L="Topbar_notificationDot__E4dGd",P="Topbar_desktop__qCr9A",v="Topbar_rootMenuIcon__g4J0w",w="Topbar_rootSearchIcon__BeQyx",y="Topbar_searchContainer__Xw8na",x="Topbar_mobileHelp__0AtHF",D="Topbar_modalContainer__zrcKv marketplaceModalInMobileBaseStyles",I="Topbar_modalContainerSearchForm__jAXMQ Topbar_modalContainer__zrcKv marketplaceModalInMobileBaseStyles",R="Topbar_missingInformationModal__RviwC marketplaceModalBaseStyles",H="Topbar_genericError__xk21-",F="Topbar_genericErrorVisible__VXj3M",O="Topbar_genericErrorContent__degYI",B="Topbar_genericErrorText__liNai h5",U=e=>{const{className:t,rootClassName:a}=e,n=l()(a||v,t);return o().createElement("svg",{className:n,width:"18",height:"12",viewBox:"0 0 18 12",xmlns:"http://www.w3.org/2000/svg"},o().createElement("g",{fillRule:"evenodd"},o().createElement("rect",{width:"18",height:"2",rx:"1"}),o().createElement("rect",{y:"5",width:"18",height:"2",rx:"1"}),o().createElement("rect",{y:"10",width:"18",height:"2",rx:"1"})))},{string:A}=M();U.defaultProps={className:null,rootClassName:null};const V=U,G=e=>{const{className:t,rootClassName:a}=e,n=l()(a||w,t);return o().createElement("svg",{className:n,width:"18",height:"18",viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg"},o().createElement("g",{transform:"matrix(-1 0 0 1 17 1)",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o().createElement("path",{d:"M11.733 11.733l3.727 3.727"}),o().createElement("circle",{cx:"6.4",cy:"6.4",r:"6.4"})))},{string:W}=M();G.defaultProps={className:null,rootClassName:null};const j=G;var z=a(2411);const Q="TopbarSearchForm_mobileInputRoot__I7aW6",J="TopbarSearchForm_desktopInputRoot__Bk8NC",X="TopbarSearchForm_mobileIcon__kTmGC",Y="TopbarSearchForm_mobileInput__Woyp3 TopbarSearchForm_fontInput__Lri47",Z="TopbarSearchForm_desktopIcon__yk4Cd",K="TopbarSearchForm_desktopInput__MQovt p",q="TopbarSearchForm_mobilePredictions__a8SO1",$="TopbarSearchForm_mobilePredictionsAttribution__oqKNA",ee="TopbarSearchForm_desktopPredictions__WtdtD",te="TopbarSearchForm_keywordSearchWrapper__CImlr",ae="TopbarSearchForm_searchSubmit__WYpZ4",ne="TopbarSearchForm_iconSvgGroup__xubef",oe="TopbarSearchForm_icon__CqGKo",re="TopbarSearchForm_iconSvg__7tZP5",se=()=>o().createElement("svg",{className:re,width:"21",height:"22",viewBox:"0 0 21 22",xmlns:"http://www.w3.org/2000/svg"},o().createElement("g",{className:ne,transform:"matrix(-1 0 0 1 20 1)",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},o().createElement("path",{d:"M13 14l5.241 5.241"}),o().createElement("circle",{cx:"7.5",cy:"7.5",r:"7.5"}))),ie=e=>e,le=e=>{const{keywordSearchWrapperClasses:t,iconClass:a,intl:n,isMobile:r,inputRef:s}=e;return o().createElement("div",{className:t},o().createElement("button",{className:ae},o().createElement("div",{className:a},o().createElement(se,null))),o().createElement(z.Field,{name:"keywords",render:e=>{let{input:t,meta:a}=e;return o().createElement("input",Object.assign({className:r?Y:K},t,{id:r?"keyword-search-mobile":"keyword-search","data-testid":r?"keyword-search-mobile":"keyword-search",ref:s,type:"text",placeholder:n.formatMessage({id:"TopbarSearchForm.placeholder"}),autoComplete:"off"}))}}))},ce=e=>{const{desktopInputRootClass:t,intl:a,isMobile:n,inputRef:r,onLocationChange:s}=e;return o().createElement(z.Field,{name:"location",format:ie,render:e=>{let{input:i,meta:l}=e;const{onChange:c,...m}=i;return o().createElement(h.rG,{className:n?Q:t,iconClassName:n?X:Z,inputClassName:n?Y:K,predictionsClassName:n?q:ee,predictionsAttributionClassName:n?$:null,placeholder:a.formatMessage({id:"TopbarSearchForm.placeholder"}),closeOnBlur:!n,inputRef:r,input:{...m,onChange:e=>{c(e),s(e)}},meta:l})}})};class me extends n.Component{constructor(e){super(e),this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.searchInput=null,this.setSearchInputRef=e=>{this.setSearchInput=e}}onChange(e){const{appConfig:t,onSubmit:a}=this.props;var n;!(0,b.Sy)(t)&&e.selectedPlace&&(a({location:e}),null===(n=this.searchInput)||void 0===n||n.blur())}onSubmit(e){const{appConfig:t,onSubmit:a}=this.props;var n;(0,b.Sy)(t)&&(a({keywords:e.keywords}),null===(n=this.searchInput)||void 0===n||n.blur())}render(){const{onSubmit:e,appConfig:t,...a}=this.props,n=(0,b.Sy)(t),r=n?this.onSubmit:e;return o().createElement(z.Form,Object.assign({},a,{onSubmit:r,render:e=>{const{rootClassName:t,className:a,desktopInputRoot:r,intl:s,isMobile:i,handleSubmit:c}=e,m=l()(t,a),p=r||J,u=n?c:e=>e.preventDefault(),b=l()(te,i?Q:p);return o().createElement(h.l0,{className:m,onSubmit:u,enforcePagePreloadFor:"SearchPage"},n?o().createElement(le,{keywordSearchWrapperClasses:b,iconClass:l()(i?X:Z||oe),intl:s,isMobile:i,inputRef:this.setSearchInputRef}):o().createElement(ce,{desktopInputRootClass:p,intl:s,isMobile:i,inputRef:this.setSearchInputRef,onLocationChange:this.onChange}))}}))}}me.defaultProps={rootClassName:null,className:null,desktopInputRoot:null,isMobile:!1};const pe=(0,u.XN)(me);var ue=a(9669),be=a(4941);const _e="TopbarMobileMenu_root__gpOzE",de="TopbarMobileMenu_content__vbUDQ",ge="TopbarMobileMenu_footer__6J+dF",he="TopbarMobileMenu_avatar__RUUxd",Ee="TopbarMobileMenu_greeting__sIwSy",Me="TopbarMobileMenu_logoutButton__xbsXM",Ne="TopbarMobileMenu_inbox__+mBP3 TopbarMobileMenu_customLinkFont__7pJJ3",ke="TopbarMobileMenu_navigationLink__maY5n TopbarMobileMenu_customLinkFont__7pJJ3",Te="TopbarMobileMenu_notificationBadge__SpfhW",Se="TopbarMobileMenu_createNewListingLink__3pz89 buttonPrimary",Ce="TopbarMobileMenu_authenticationGreeting__uBowM h1",fe="TopbarMobileMenu_authenticationLinks__MjSTG",Le="TopbarMobileMenu_signupLink__BCyNR",Pe="TopbarMobileMenu_loginLink__rpk8g",ve="TopbarMobileMenu_currentPage__PGVKZ",we="TopbarMobileMenu_spacer__PGr7-",ye=e=>{const{isAuthenticated:t,currentPage:a,currentUserHasListings:n,currentUser:r,notificationCount:s,onLogout:i}=e,c=(0,be.j0)(r);if(!t){const e=o().createElement(h.RC,{name:"SignupPage",className:Le},o().createElement(u._H,{id:"TopbarMobileMenu.signupLink"})),t=o().createElement(h.RC,{name:"LoginPage",className:Pe},o().createElement(u._H,{id:"TopbarMobileMenu.loginLink"})),a=o().createElement("span",{className:fe},o().createElement(u._H,{id:"TopbarMobileMenu.signupOrLogin",values:{signup:e,login:t}}));return o().createElement("div",{className:_e},o().createElement("div",{className:de},o().createElement("div",{className:Ce},o().createElement(u._H,{id:"TopbarMobileMenu.unauthorizedGreeting",values:{lineBreak:o().createElement("br",null),signupOrLogin:a}}))),o().createElement("div",{className:ge},o().createElement(h.RC,{className:Se,name:"NewListingPage"},o().createElement(u._H,{id:"TopbarMobileMenu.newListingLink"}))))}const m=s>0?o().createElement(h.Cc,{className:Te,count:s}):null,p=c.attributes.profile.firstName,b=e=>{const t="AccountSettingsPage"===e&&ue.p.includes(a);return a===e||t?ve:null};return o().createElement("div",{className:_e},o().createElement(h.Vt,{className:he,user:r}),o().createElement("div",{className:de},o().createElement("span",{className:Ee},o().createElement(u._H,{id:"TopbarMobileMenu.greeting",values:{displayName:p}})),o().createElement(h.T5,{rootClassName:Me,onClick:i},o().createElement(u._H,{id:"TopbarMobileMenu.logoutLink"})),o().createElement(h.RC,{className:l()(Ne,b("InboxPage")),name:"InboxPage",params:{tab:n?"sales":"orders"}},o().createElement(u._H,{id:"TopbarMobileMenu.inboxLink"}),m),o().createElement(h.RC,{className:l()(ke,b("ManageListingsPage")),name:"ManageListingsPage"},o().createElement(u._H,{id:"TopbarMobileMenu.yourListingsLink"})),o().createElement(h.RC,{className:l()(ke,b("ProfileSettingsPage")),name:"ProfileSettingsPage"},o().createElement(u._H,{id:"TopbarMobileMenu.profileSettingsLink"})),o().createElement(h.RC,{className:l()(ke,b("AccountSettingsPage")),name:"AccountSettingsPage"},o().createElement(u._H,{id:"TopbarMobileMenu.accountSettingsLink"})),o().createElement("div",{className:we})),o().createElement("div",{className:ge},o().createElement(h.RC,{className:Se,name:"NewListingPage"},o().createElement(u._H,{id:"TopbarMobileMenu.newListingLink"}))))};ye.defaultProps={currentUser:null,notificationCount:0,currentPage:null};const{bool:xe,func:De,number:Ie,string:Re}=M(),He=ye,Fe="TopbarDesktop_root__B36f+",Oe="TopbarDesktop_logoLink__ogiVG",Be="TopbarDesktop_searchLink__wfyNG",Ue="TopbarDesktop_topbarSearchWithLeftPadding__ZZM-+",Ae="TopbarDesktop_createListingLink__vC+Oe",Ve="TopbarDesktop_createListing__zaYlu TopbarDesktop_topbarDesktopLabel__+vIif textSmall",Ge="TopbarDesktop_inboxLink__3BFpR",We="TopbarDesktop_inbox__U7n3v TopbarDesktop_topbarDesktopLabel__+vIif textSmall",je="TopbarDesktop_notificationDot__iaN5a",ze="TopbarDesktop_profileMenuLabel__+lOjB",Qe="TopbarDesktop_profileMenuIsOpen__edPhA",Je="TopbarDesktop_avatar__W4Z1O",Xe="TopbarDesktop_profileMenuContent__VIpRD",Ye="TopbarDesktop_signupLink__lpy4A",Ze="TopbarDesktop_loginLink__Bv9w3",Ke="TopbarDesktop_signup__nw1cb textSmall",qe="TopbarDesktop_login__NDym1 textSmall",$e="TopbarDesktop_menuItemBorder__Gx08m",et="TopbarDesktop_profileSettingsLink__Yiw+w textSmall",tt="TopbarDesktop_yourListingsLink__--vkU textSmall",at="TopbarDesktop_logoutButton__M4Ij9",nt="TopbarDesktop_currentPage__7H3Cj",ot=e=>{const{className:t,appConfig:a,currentUser:r,currentPage:s,rootClassName:i,currentUserHasListings:c,notificationCount:m,intl:p,isAuthenticated:b,onLogout:_,onSearchSubmit:d,initialSearchFormValues:g}=e,[E,M]=(0,n.useState)(!1);(0,n.useEffect)((()=>{M(!0)}),[]);const N=a.marketplaceName,k=E&&b,T=b||!E,S=l()(i||Fe,t),C=o().createElement(pe,{className:Be,desktopInputRoot:Ue,onSubmit:d,initialValues:g,appConfig:a}),f=m>0?o().createElement("div",{className:je}):null,L=k?o().createElement(h.RC,{className:Ge,name:"InboxPage",params:{tab:c?"sales":"orders"}},o().createElement("span",{className:We},o().createElement(u._H,{id:"TopbarDesktop.inbox"}),f)):null,P=e=>{const t="AccountSettingsPage"===e&&ue.p.includes(s);return s===e||t?nt:null},v=k?o().createElement(h.v2,null,o().createElement(h.Lb,{className:ze,isOpenClassName:Qe},o().createElement(h.qE,{className:Je,user:r,disableProfileLink:!0})),o().createElement(h.Dv,{className:Xe},o().createElement(h.sN,{key:"ManageListingsPage"},o().createElement(h.RC,{className:l()(tt,P("ManageListingsPage")),name:"ManageListingsPage"},o().createElement("span",{className:$e}),o().createElement(u._H,{id:"TopbarDesktop.yourListingsLink"}))),o().createElement(h.sN,{key:"ProfileSettingsPage"},o().createElement(h.RC,{className:l()(et,P("ProfileSettingsPage")),name:"ProfileSettingsPage"},o().createElement("span",{className:$e}),o().createElement(u._H,{id:"TopbarDesktop.profileSettingsLink"}))),o().createElement(h.sN,{key:"AccountSettingsPage"},o().createElement(h.RC,{className:l()(tt,P("AccountSettingsPage")),name:"AccountSettingsPage"},o().createElement("span",{className:$e}),o().createElement(u._H,{id:"TopbarDesktop.accountSettingsLink"}))),o().createElement(h.sN,{key:"logout"},o().createElement(h.T5,{rootClassName:at,onClick:_},o().createElement("span",{className:$e}),o().createElement(u._H,{id:"TopbarDesktop.logout"}))))):null,w=T?null:o().createElement(h.RC,{name:"SignupPage",className:Ye},o().createElement("span",{className:Ke},o().createElement(u._H,{id:"TopbarDesktop.signup"}))),y=T?null:o().createElement(h.RC,{name:"LoginPage",className:Ze},o().createElement("span",{className:qe},o().createElement(u._H,{id:"TopbarDesktop.login"})));return o().createElement("nav",{className:S},o().createElement(h.Ux,{className:Oe,layout:"desktop",alt:p.formatMessage({id:"TopbarDesktop.logo"},{marketplaceName:N})}),C,o().createElement(h.RC,{className:Ae,name:"NewListingPage"},o().createElement("span",{className:Ve},o().createElement(u._H,{id:"TopbarDesktop.createListing"}))),L,v,w,y)};ot.defaultProps={rootClassName:null,className:null,currentUser:null,currentPage:null,notificationCount:0,initialSearchFormValues:{},appConfig:null};const rt=(e,t)=>{const{history:a,location:n}=e,{pathname:o,search:r,state:s}=n,i="?".concat((0,d.Pz)({[t]:"open",...(0,d.Qc)(r)}));a.push("".concat(o).concat(i),s)},st=(e,t)=>{const{history:a,location:n}=e,{pathname:o,search:r,state:i}=n,l=s()((0,d.Qc)(r),((e,a)=>a!==t)),c=(0,d.Pz)(l),m=c?"?".concat(c):"";a.push("".concat(o).concat(m),i)},it=e=>{const{show:t}=e,a=l()(H,{[F]:t});return o().createElement("div",{className:a},o().createElement("div",{className:O},o().createElement("p",{className:B},o().createElement(u._H,{id:"Topbar.genericError"}))))};class lt extends n.Component{constructor(e){super(e),this.handleMobileMenuOpen=this.handleMobileMenuOpen.bind(this),this.handleMobileMenuClose=this.handleMobileMenuClose.bind(this),this.handleMobileSearchOpen=this.handleMobileSearchOpen.bind(this),this.handleMobileSearchClose=this.handleMobileSearchClose.bind(this),this.handleSubmit=this.handleSubmit.bind(this),this.handleLogout=this.handleLogout.bind(this)}handleMobileMenuOpen(){rt(this.props,"mobilemenu")}handleMobileMenuClose(){st(this.props,"mobilemenu")}handleMobileSearchOpen(){rt(this.props,"mobilesearch")}handleMobileSearchClose(){st(this.props,"mobilesearch")}handleSubmit(e){const{currentSearchParams:t}=this.props,{history:a,config:n,routeConfiguration:o}=this.props,r={...t,...(()=>{if((0,b.Sy)(n))return{keywords:null===e||void 0===e?void 0:e.keywords};const{search:t,selectedPlace:a}=null===e||void 0===e?void 0:e.location,{origin:o,bounds:r}=a;return{...(0,b.QS)(n)?{origin:o}:{},address:t,bounds:r}})()};a.push((0,g.EW)("SearchPage",o,{},r))}handleLogout(){const{onLogout:e,history:t,routeConfiguration:a}=this.props;e().then((()=>{const e=(0,g.XA)("LandingPage",a);c.default.dev?t.push(e):"undefined"!==typeof window&&(window.location=e),console.log("logged out")}))}render(){const{className:e,rootClassName:t,desktopClassName:a,mobileRootClassName:n,mobileClassName:r,isAuthenticated:s,authScopes:i,authInProgress:c,currentUser:m,currentUserHasListings:p,currentUserHasOrders:_,currentPage:g,notificationCount:E,viewport:M,intl:v,location:w,onManageDisableScrolling:H,onResendVerificationEmail:F,sendVerificationEmailInProgress:O,sendVerificationEmailError:B,showGenericError:U,config:A}=this.props,{mobilemenu:G,mobilesearch:W,keywords:z,address:Q,origin:J,bounds:X}=(0,d.Qc)(w.search,{latlng:["origin"],latlngBounds:["bounds"]}),Y=E>0?o().createElement("div",{className:L}):null,Z=M.width<1024,K=Z&&"open"===G,q=Z&&"open"===W,$=o().createElement(He,{isAuthenticated:s,currentUserHasListings:p,currentUser:m,onLogout:this.handleLogout,notificationCount:E,currentPage:g}),ee=(()=>{if((0,b.Sy)(A))return{keywords:z};return{location:((0,b.QS)(A)?Q&&J&&X:Q&&X)?{search:Q,selectedPlace:{address:Q,origin:J,bounds:X}}:null}})(),te=l()(t||N,e);return o().createElement("div",{className:te},o().createElement(h.nW,{isAuthenticated:s,authScopes:i,currentUser:m,onLogout:this.handleLogout,currentPage:g}),o().createElement("div",{className:l()(n||k,r)},o().createElement(h.zx,{rootClassName:T,onClick:this.handleMobileMenuOpen,title:v.formatMessage({id:"Topbar.menuIcon"})},o().createElement(V,{className:C}),Y),o().createElement(h.Ux,{layout:"mobile",alt:v.formatMessage({id:"Topbar.logoIcon"})}),o().createElement(h.zx,{rootClassName:S,onClick:this.handleMobileSearchOpen,title:v.formatMessage({id:"Topbar.searchIcon"})},o().createElement(j,{className:f}))),o().createElement("div",{className:P}),o().createElement(h.u_,{id:"TopbarMobileMenu",containerClassName:D,isOpen:K,onClose:this.handleMobileMenuClose,usePortal:!0,onManageDisableScrolling:H},c?null:$),o().createElement(h.u_,{id:"TopbarMobileSearch",containerClassName:I,isOpen:q,onClose:this.handleMobileSearchClose,usePortal:!0,onManageDisableScrolling:H},o().createElement("div",{className:y},o().createElement(pe,{onSubmit:this.handleSubmit,initialValues:ee,isMobile:!0,appConfig:A}),o().createElement("p",{className:x},o().createElement(u._H,{id:"Topbar.mobileSearchHelp"})))),o().createElement(h.Ix,{id:"MissingInformationReminder",containerClassName:R,currentUser:m,currentUserHasListings:p,currentUserHasOrders:_,location:w,onManageDisableScrolling:H,onResendVerificationEmail:F,sendVerificationEmailInProgress:O,sendVerificationEmailError:B}),o().createElement(it,{show:U}))}}lt.defaultProps={className:null,rootClassName:null,desktopClassName:null,mobileRootClassName:null,mobileClassName:null,notificationCount:0,currentUser:null,currentUserHasOrders:null,currentPage:null,sendVerificationEmailError:null,authScopes:[]};const ct=(0,_.ss)((e=>{const t=(0,m.mX)(),a=(0,p.a5)(),n=(0,u.YB)();return o().createElement(lt,Object.assign({config:t,routeConfiguration:a,intl:n},e))}));ct.displayName="Topbar";const mt=ct}};
//# sourceMappingURL=Topbar.1dadbcb2.chunk.js.map