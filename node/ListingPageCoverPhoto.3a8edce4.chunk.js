"use strict";exports.id=102,exports.ids=[102],exports.modules={1824:(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(6689),i=a.n(n),r=a(580),l=a.n(r),s=a(9003),o=a.n(s),c=a(9585),m=a.n(c),u=(a(3665),a(1233)),g=a(9930);const d="ImageCarousel_root__Wo+HB",h="ImageCarousel_noImage__wTO23",p="ImageCarousel_itemCentering__f4jFH",I="ImageCarousel_item__caCf7",y="ImageCarousel_arrowHead__dFX8J",E="ImageCarousel_navLeft__HWU9V",v="ImageCarousel_navRight__zteS3",L="ImageCarousel_navArrowWrapper__kvo4h",C="ImageCarousel_imageWrapper__+BFN-",b="ImageCarousel_imageIndex__O6h1w h4",f={showPlayButton:!1,disableThumbnailScroll:!0,showThumbnails:!1,showFullscreenButton:!1,slideDuration:350},w=e=>{const[t,a]=(0,n.useState)(0),{intl:r,rootClassName:l,className:s,images:c,imageVariants:u}=e,w=c.map(((e,t)=>({original:"",alt:r.formatMessage({id:"ImageCarousel.imageAltText"},{index:t+1,count:c.length}),image:e})));if(0===w.length){const e=o()(l||h,s);return i().createElement(g.t3,{className:e,image:null,variants:[],alt:""})}const P=w.length>0?i().createElement("span",{className:b},t+1,"/",w.length):null;const N=o()(l||d,s);return i().createElement(i().Fragment,null,i().createElement(m(),Object.assign({additionalClass:N,items:w,renderItem:e=>i().createElement("div",{className:C},i().createElement("div",{className:p},i().createElement(g.t3,{rootClassName:I,image:e.image,alt:e.alt,variants:u,sizes:"(max-width: 767px) 100vw, 80vw"}))),renderLeftNav:(e,t)=>i().createElement("button",{className:E,disabled:t,onClick:e},i().createElement("div",{className:L},i().createElement(g.JT,{direction:"left",size:"big",className:y}))),renderRightNav:(e,t)=>i().createElement("button",{className:v,disabled:t,onClick:e},i().createElement("div",{className:L},i().createElement(g.JT,{direction:"right",size:"big",className:y}))),onSlide:e=>{a(e)}},f)),P)};w.defaultProps={rootClassName:null,className:null};const{string:P,arrayOf:N}=l(),S=(0,u.XN)(w)},8383:(e,t,a)=>{a.r(t),a.d(t,{ListingPageComponent:()=>x,default:()=>W});var n=a(6689),i=a.n(n),r=a(6695),l=a(6022),s=a(4661),o=a(6639),c=a(6134),m=a(1233),u=a(3665),g=a(6319),d=a(5161),h=a(5198),p=a(4941),I=a(5154),y=a(7285),E=a(5863),v=a(6902),L=a(3093),C=a(9930),b=a(2745),f=a(7600),w=a(6963),P=a(2145),N=a(59),S=a(1824),_=a(6898),T=a(7352);const Z=e=>{var t;const{title:a,listing:n,isOwnListing:r,editParams:l,handleViewPhotosClick:s,imageCarouselOpen:o,onImageCarouselClose:c,onManageDisableScrolling:u,noPayoutDetailsSetWithOwnListing:g}=e,d=n.images&&n.images.length>0,h=d?n.images[0]:null,p=h?Object.keys(null===h||void 0===h||null===(t=h.attributes)||void 0===t?void 0:t.variants).filter((e=>e.startsWith("scaled"))):[],I=d?i().createElement("button",{className:T.Z.viewPhotos,onClick:s},i().createElement(m._H,{id:"ListingPage.viewImagesButton",values:{count:n.images.length}})):null;return i().createElement("div",{className:T.Z.sectionHero,"data-testid":"hero"},i().createElement("div",{className:T.Z.imageWrapperForSectionHero,onClick:s},n.id&&r?i().createElement("div",{onClick:e=>e.stopPropagation(),className:T.Z.actionBarContainerForHeroLayout},g?i().createElement(_.Z,{className:T.Z.actionBarForHeroLayout,isOwnListing:r,listing:n,showNoPayoutDetailsSet:g}):null,i().createElement(_.Z,{className:T.Z.actionBarForHeroLayout,isOwnListing:r,listing:n,editParams:l})):null,i().createElement(C.t3,{rootClassName:T.Z.rootForImage,alt:a,image:h,variants:p}),I),i().createElement(C.u_,{id:"ListingPage.imageCarousel",scrollLayerClassName:T.Z.carouselModalScrollLayer,containerClassName:T.Z.carouselModalContainer,lightCloseButton:!0,isOpen:o,onClose:c,usePortal:!0,onManageDisableScrolling:u},i().createElement(S.Z,{images:n.images,imageVariants:["scaled-small","scaled-medium","scaled-large","scaled-xlarge"]})))};var k=a(9997),D=a(9489),O=a(8390),F=a(6978),q=a(7207),H=a(3820);const{UUID:M}=g.types,x=e=>{var t,a,r;const[l,s]=(0,n.useState)(e.inquiryModalOpenForListingId===e.params.id),[o,c]=(0,n.useState)(!1),{isAuthenticated:g,currentUser:E,getListing:v,getOwnListing:L,intl:S,onManageDisableScrolling:_,params:x,location:W,scrollingDisabled:R,showListingError:U,reviews:A,fetchReviewsError:B,sendInquiryInProgress:V,sendInquiryError:z,monthlyTimeSlots:j,onFetchTimeSlots:Y,onFetchTransactionLineItems:J,lineItems:X,fetchLineItemsInProgress:$,fetchLineItemsError:K,history:G,callSetInitialValues:Q,onSendInquiry:ee,onInitializeCardPaymentData:te,config:ae,routeConfiguration:ne}=e,ie=ae.listing,re=new M(x.id),le=x.variant===d.l4,se=x.variant===d.my,oe=le||se?(0,p.YC)(L(re)):(0,p.Me)(v(re)),ce=x.slug||(0,d.qi)(oe.attributes.title||""),me={slug:ce,...x},ue=se?d.Ms:d.Am,ge=se?"photos":"details",de=oe.id&&oe.attributes.state!==u.v7,he=le&&de,pe=(le||se)&&U&&403===U.status;if(he||pe)return i().createElement(C.d9,{name:"ListingPage",params:me,search:W.search});const Ie=i().createElement(b.Z,null);if(U&&404===U.status)return i().createElement(w.Z,null);if(U)return i().createElement(N.mf,{topbar:Ie,scrollingDisabled:R,intl:S});if(!oe.id)return i().createElement(N.h2,{topbar:Ie,scrollingDisabled:R,intl:S});const{description:ye="",geolocation:Ee=null,price:ve=null,title:Le="",publicData:Ce={},metadata:be={}}=oe.attributes,fe=i().createElement("span",null,(0,I.qO)(Le,{longWordMinLength:16,longWordClass:T.Z.longWord})),we=oe&&oe.author,Pe=!(!E||!we)&&oe.author.id.uuid===E.id.uuid,Ne=null===Ce||void 0===Ce?void 0:Ce.transactionProcessAlias,Se=(0,y.b$)(Ne.split("/")[0]),_e=(0,y.YL)(Se)?"booking":"purchase",Te=we?oe.author:null,Ze=(0,p.oY)(Te),ke=Pe&&!(null!==E&&void 0!==E&&null!==(t=E.attributes)&&void 0!==t&&t.stripeConnected),De=ke?i().createElement("div",null,i().createElement(m._H,{id:"ListingPage.payoutDetailsWarning",values:{processType:_e}}),i().createElement(C.RC,{name:"StripePayoutPage"},i().createElement(m._H,{id:"ListingPage.payoutDetailsWarningLink"}))):null,Oe=(0,p.d8)(Ze,""),{formattedPrice:Fe}=(0,N.MT)(ve,ae.currency,S),qe={params:me,history:G,routes:ne},He=(0,N.kN)({...qe,currentUser:E,callSetInitialValues:Q,location:W,setInitialValues:P.LA,setInquiryModalOpen:s}),Me=(0,N.j3)({...qe,getListing:v,onSendInquiry:ee,setInquiryModalOpen:s}),xe=(0,N.ip)({...qe,currentUser:E,callSetInitialValues:Q,getListing:v,onInitializeCardPaymentData:te}),We=(0,N.Ib)(oe,"facebook"),Re=(0,N.Ib)(oe,"twitter"),Ue=(0,N.Ib)(oe,"".concat(ae.layout.listingImage.variantPrefix,"-2x")).map((e=>e.url)),Ae=ae.marketplaceName,Be=S.formatMessage({id:"ListingPage.schemaTitle"},{title:Le,price:Fe,marketplaceName:Ae}),Ve="".concat(ae.marketplaceRootURL).concat(W.pathname).concat(W.search).concat(W.hash),ze=ve?{price:S.formatNumber((0,h.ud)(ve),{minimumFractionDigits:2,maximumFractionDigits:2}),priceCurrency:ve.currency}:{},je=((null===(a=oe.currentStock)||void 0===a||null===(r=a.attributes)||void 0===r?void 0:r.quantity)||0)>0?"https://schema.org/InStock":"https://schema.org/OutOfStock";return i().createElement(C.T3,{title:Be,scrollingDisabled:R,author:Oe,description:ye,facebookImages:We,twitterImages:Re,schema:{"@context":"http://schema.org","@type":"Product",description:ye,name:Be,image:Ue,offers:{"@type":"Offer",url:Ve,...ze,availability:je}}},i().createElement(C.ip,{className:T.Z.pageRoot,topbar:Ie,footer:i().createElement(f.Z,null)},i().createElement(Z,{title:Le,listing:oe,isOwnListing:Pe,editParams:{id:re.uuid,slug:ce,type:ue,tab:ge},imageCarouselOpen:o,onImageCarouselClose:()=>c(!1),handleViewPhotosClick:e=>{e.stopPropagation(),c(!0)},onManageDisableScrolling:_,noPayoutDetailsSetWithOwnListing:ke}),i().createElement("div",{className:T.Z.contentWrapperForHeroLayout},i().createElement("div",{className:T.Z.mainColumnForHeroLayout},i().createElement("div",{className:T.Z.mobileHeading},i().createElement(C.H4,{as:"h1",className:T.Z.orderPanelTitle},i().createElement(m._H,{id:"ListingPage.orderTitle",values:{title:fe}}))),i().createElement(k.Z,{text:ye,showAsIngress:!0}),i().createElement(D.Z,{publicData:Ce,metadata:be,listingConfig:ie,intl:S}),ie.listingFields.reduce(((e,t)=>{var a,n;const{key:r,enumOptions:l,includeForListingTypes:s,scope:o="public"}=t,c=null===Ce||void 0===Ce?void 0:Ce.listingType,m=null==s||s.includes(c),g="public"===o?Ce[r]:"metadata"===o?be[r]:null,d=null!=g;return m&&t.schemaType===u.KP?[...e,i().createElement(O.Z,{key:r,heading:null===t||void 0===t||null===(a=t.showConfig)||void 0===a?void 0:a.label,options:(h=l,h.map((e=>({key:"".concat(e.option),label:e.label})))),selectedOptions:g||[]})]:m&&d&&t.schemaType===u.d$?[...e,i().createElement(k.Z,{key:r,heading:null===t||void 0===t||null===(n=t.showConfig)||void 0===n?void 0:n.label,text:g})]:e;var h}),[]),i().createElement(H.Z,{geolocation:Ee,publicData:Ce,listingId:oe.id,mapsConfig:ae.maps}),i().createElement(F.Z,{reviews:A,fetchReviewsError:B}),i().createElement(q.Z,{title:Le,listing:oe,authorDisplayName:Oe,onContactUser:He,isInquiryModalOpen:g&&l,onCloseInquiryModal:()=>s(!1),sendInquiryError:z,sendInquiryInProgress:V,onSubmitInquiry:Me,currentUser:E,onManageDisableScrolling:_})),i().createElement("div",{className:T.Z.orderColumnForHeroLayout},i().createElement(C.el,{className:T.Z.orderPanel,listing:oe,isOwnListing:Pe,onSubmit:e=>{const t=oe.attributes.state===u._L;Pe||t?window.scrollTo(0,0):xe(e)},authorLink:i().createElement(C.RC,{className:T.Z.authorNameLink,name:"ListingPage",params:me,to:{hash:"#author"}},Oe),title:i().createElement(m._H,{id:"ListingPage.orderTitle",values:{title:fe}}),titleDesktop:i().createElement(C.H4,{as:"h1",className:T.Z.orderPanelTitle},i().createElement(m._H,{id:"ListingPage.orderTitle",values:{title:fe}})),payoutDetailsWarning:De,author:Ze,onManageDisableScrolling:_,onFetchTransactionLineItems:J,onContactUser:He,monthlyTimeSlots:j,onFetchTimeSlots:Y,lineItems:X,fetchLineItemsInProgress:$,fetchLineItemsError:K,validListingTypes:ae.listing.listingTypes,marketplaceCurrency:ae.currency,dayCountAvailableForBooking:ae.stripe.dayCountAvailableForBooking,marketplaceName:ae.marketplaceName})))))};x.defaultProps={currentUser:null,inquiryModalOpenForListingId:null,showListingError:null,reviews:[],fetchReviewsError:null,monthlyTimeSlots:null,sendInquiryError:null,lineItems:null,fetchLineItemsError:null};const W=(0,r.compose)((0,l.connect)((e=>{const{isAuthenticated:t}=e.auth,{showListingError:a,reviews:n,fetchReviewsError:i,monthlyTimeSlots:r,sendInquiryInProgress:l,sendInquiryError:s,lineItems:o,fetchLineItemsInProgress:c,fetchLineItemsError:m,inquiryModalOpenForListingId:u}=e.ListingPage,{currentUser:g}=e.user;return{isAuthenticated:t,currentUser:g,getListing:t=>{const a={id:t,type:"listing"},n=(0,E.EV)(e,[a]);return 1===n.length?n[0]:null},getOwnListing:t=>{const a={id:t,type:"ownListing"},n=(0,E.EV)(e,[a]);return 1===n.length?n[0]:null},scrollingDisabled:(0,v.uS)(e),inquiryModalOpenForListingId:u,showListingError:a,reviews:n,fetchReviewsError:i,monthlyTimeSlots:r,lineItems:o,fetchLineItemsInProgress:c,fetchLineItemsError:m,sendInquiryInProgress:l,sendInquiryError:s}}),(e=>({onManageDisableScrolling:(t,a)=>e((0,v.R4)(t,a)),callSetInitialValues:(t,a,n)=>e(t(a,n)),onFetchTransactionLineItems:t=>e((0,P.nd)(t)),onSendInquiry:(t,a)=>e((0,P.DE)(t,a)),onInitializeCardPaymentData:()=>e((0,L.aw)()),onFetchTimeSlots:(t,a,n,i)=>e((0,P.HA)(t,a,n,i))}))))((e=>{const t=(0,o.mX)(),a=(0,c.a5)(),n=(0,m.YB)(),r=(0,s.useHistory)(),l=(0,s.useLocation)();return i().createElement(x,Object.assign({config:t,routeConfiguration:a,intl:n,history:r,location:l},e))}))}};
//# sourceMappingURL=ListingPageCoverPhoto.3a8edce4.chunk.js.map